import { Component, EventEmitter, Input, Output } from '@angular/core';
import { Subject } from 'rxjs';
import { TimetableConstants } from './timetable.constant';
import * as _ from "lodash";
import * as i0 from "@angular/core";
import * as i1 from "@angular/forms";
import * as i2 from "@angular/common";
import * as i3 from "ngx-drag-drop";
import * as i4 from "ng-select2";
import * as i5 from "@ng-bootstrap/ng-bootstrap";
import * as i6 from "@ngx-translate/core";
export class TimetableComponent {
    constructor(fb) {
        this.fb = fb;
        this.objectKeys = Object.keys;
        this.SEMESTERS = {
            FIRST: 'FIRST',
            SECOND: 'SECOND',
            ALL: 'ALL'
        };
        this.semesters = Object.keys(this.SEMESTERS);
        this.solverStatusMessage = null;
        this.destroyed$ = new Subject();
        this.MODE = {
            EDIT: 'edit',
            NEW: 'new'
        };
        this.isEnableAdjustMode = false;
        this.onRemoveAction = new EventEmitter();
        this.onDropAcion = new EventEmitter();
        this.onCellClickAction = new EventEmitter();
        this.onCreateNewLession = new EventEmitter();
        this.activeLessions = [];
        this.activeTeachManagement = undefined;
        this.daysOfWeek = [
            "MONDAY",
            "TUESDAY",
            "WEDNESDAY",
            "THURSDAY",
            "FRIDAY",
            "SATURDAY",
            "SUNDAY",
        ];
        this.draggable = {
            data: null,
            effectAllowed: "all",
            disable: true,
            handle: false
        };
        this.timeTableData = {};
        this.lessons = ["LOADING", "LOADING", "LOADING", "LOADING", "LOADING", "LOADING"];
        this.isAutoUpdateClassIds = false;
        this.isInProgress = new EventEmitter();
        this.selectedClasses = [];
        this.classListSelectedDefault = [];
        this.teachManagements = [];
        this.dayLessionSlots = [...Array(5).keys()];
        this.CALLBACK_TIME = 5000;
        this.checkingGenerateProgresser = null;
        this.isDisabledPlanning = false;
        this.slotNumOfDay = [];
        this.showProgressLoading = false;
        this.TIMETABLE_EDIT_MODE = TimetableConstants.TIMETABLE_EDIT_MODE;
        this.FORM_FIELDS = {
            MAJOR: 'majorCode',
            TUTOR: 'tutorUuid',
            CLASS_ID: 'classId',
            SEMESTER: 'semester'
        };
        this.form = this.fb.group({
            [this.FORM_FIELDS.MAJOR]: [{ value: -1 }],
            [this.FORM_FIELDS.TUTOR]: [{ value: '' }]
        });
    }
    ngOnChanges(changes) {
        if (changes['timeShift']?.currentValue) {
            this.buildTimeTableBasic();
        }
        if (changes['timeslots']?.currentValue) {
            this.initTimetableSlot();
        }
        if (changes['isEnableAdjustMode']?.currentValue) {
            this.draggable = {
                ...this.draggable,
                disable: !this.isEnableAdjustMode
            };
        }
        if (changes['classes']?.currentValue && !changes['timeslots']?.firstChange) {
            this.resetTimeTable();
        }
        if (changes['lessions']?.currentValue) {
            this.mappingDataToTable();
        }
        console.log("changes:", changes);
    }
    initTimetableSlot() {
        const alltimeslot = this.timeslots;
        this.daysOfWeek.forEach((day) => {
            const slotsOfDay = alltimeslot.filter((slot) => slot.dayOfWeek === day && slot.timeShift === this.timeShift);
            this.timeTableData[day] = {
                items: _.orderBy(slotsOfDay, ["order"]),
            };
            const maxLession = this.getMaxlessionOrder(slotsOfDay);
            this.slotNumOfDay = [...Array(maxLession).keys()];
        });
    }
    getMaxlessionOrder(timeSlot) {
        return _.maxBy(timeSlot, (o) => { return o.order; })?.order || 10;
    }
    buildTimeTableBasic() {
        this.daysOfWeek.forEach((day) => {
            this.timeTableData[day] = {
                items: [],
            };
        });
    }
    mappingDataToTable() {
        this.daysOfWeek.forEach((day) => {
            const slotsOfDay = this.lessions.filter((slot) => slot.dayOfWeek === day);
            this.timeTableData[day] = {
                items: _.orderBy(slotsOfDay, ["order"]),
            };
        });
        console.log("this.timeTableData:", this.timeTableData);
    }
    getLessonByOrder(day, index, timeShift) {
        return this.timeTableData[day].items.filter((item) => {
            const found = item.order === index && item?.timeShift === timeShift;
            return found;
        });
    }
    resetTimeTable() {
        this.buildTimeTableBasic();
    }
    onClickTutorName(tutor) {
        window.open(`/tutors/${tutor.uuid}`, '_blank');
    }
    getActiveGradeName() {
        return _.find(this.grades, (item) => item.code === this.filterForm['gradeCode'])?.title;
    }
    onDrop(event, day, slotNum, timeShift) {
        const dropSlot = this.getSlot(day, slotNum);
        const dropLession = {
            "id": _.get(event, "data.details.id", 0),
            "schoolYear": _.get(event, "data.details.schoolYear", 0),
            "semester": _.get(event, "data.details.semester", 0),
            timeslotId: dropSlot.id,
            timetableProblemId: this.timetableProblemId,
            "tutor": _.get(event, "data.details.tutor", null),
            "major": _.get(event, "data.details.major", null),
            "clazz": _.get(event, "data.details.clazz", null),
        };
        const payload = [dropLession];
        let currentLession = _.get(this.getLessonByOrder(day, slotNum, timeShift), "0", null);
        if (currentLession) {
            currentLession = {
                "id": _.get(currentLession, "details.id", 0),
                "schoolYear": _.get(currentLession, "details.schoolYear", 0),
                "semester": _.get(currentLession, "details.semester", 0),
                timeslotId: _.get(event, "data.details.timeslot.id", 0),
                timetableProblemId: this.timetableProblemId,
                "tutor": _.get(currentLession, "details.tutor", null),
                "major": _.get(currentLession, "details.major", null),
                "clazz": _.get(currentLession, "details.clazz", null),
            };
            payload.push(currentLession);
        }
        this.onDropAcion.emit(payload);
    }
    changeOnOffSwitch($event) {
        this.isEnableAdjustMode = $event.target.checked;
        this.draggable = {
            ...this.draggable,
            disable: !this.isEnableAdjustMode
        };
    }
    getSlot(day, order) {
        const slot = this.timeslots.find((slot) => slot.dayOfWeek === day && slot.timeShift === this.timeShift && slot.order === order);
        return slot;
    }
    getSlotByOrder(day, index) {
        return this.timeTableData[day].items.filter((item) => item.order === index);
    }
    onCellClick(p, day, slotNum, timeShift) {
        this.activeSlot = this.getSlot(day, slotNum);
        if (!this.isEnableAdjustMode || !this.activeSlot.enabled)
            return;
        this.activeLessions = this.getLessonByOrder(day, slotNum, timeShift);
        p.open();
        if (!this.activeLessions?.length) {
            this.mode = this.MODE.NEW;
            this.activeFormDialog = p;
            this.onCellClickAction.emit(this.activeLessions);
        }
        else {
            this.mode = this.MODE.EDIT;
        }
    }
    onSelectTeachManagement($event) {
        this.activeTeachManagement = this.majorsTranscript.find((item) => item.code === $event);
    }
    getMajor() {
        return {
            "code": _.get(this.activeTeachManagement, 'teachManagement.majorCode', 0),
            "name": _.get(this.activeTeachManagement, 'teachManagement.majorName', 0),
        };
    }
    getTutor() {
        return {
            "uuid": _.get(this.activeTeachManagement, 'teachManagement.tutorUuid', 0),
            "name": _.get(this.activeTeachManagement, 'teachManagement.tutorName', 0)
        };
    }
    getClazz() {
        return {
            "code": _.get(this.activeTeachManagement, 'teachManagement.classId', 0),
            "name": _.get(this.activeTeachManagement, 'teachManagement.className', 0),
            "gradeCode": _.get(this.activeTeachManagement, 'teachManagement.gradeCode', 0),
        };
    }
    createNewLession() {
        if (!this.form.valid)
            return;
        const payload = {
            "schoolYear": this.schoolYear,
            "semester": this.filterForm.semester,
            "timeslotId": this.activeSlot?.id,
            "timetableProblemId": this.timetableProblemId,
            "tutor": this.getTutor(),
            "major": this.getMajor(),
            "clazz": this.getClazz()
        };
        this.onCreateNewLession.emit(payload);
    }
    get isAssignedTutor() {
        return this.activeTeachManagement && this.activeTeachManagement?.teachManagement?.tutorName;
    }
    get isUnAssignedTutor() {
        return this.activeTeachManagement && !this.activeTeachManagement?.teachManagement?.tutorName;
    }
    closeForm() {
        this.activeFormDialog.close();
    }
    removeLessionFromCell() {
        const activeLession = this.activeLessions[0];
        this.onRemoveAction.emit(activeLession);
    }
    ngOnDestroy() {
        this.destroyed$.next();
        this.destroyed$.complete();
        this.resetTimeTable();
    }
}
TimetableComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.9", ngImport: i0, type: TimetableComponent, deps: [{ token: i1.UntypedFormBuilder }], target: i0.ɵɵFactoryTarget.Component });
TimetableComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.9", type: TimetableComponent, selector: "tada-ngx-timetable", inputs: { filterForm: "filterForm", timeShift: "timeShift", schoolYear: "schoolYear", type: "type", grades: "grades", lessions: "lessions", timetableProblemId: "timetableProblemId", majorsTranscript: "majorsTranscript", classes: "classes", timeslots: "timeslots", isEnableAdjustMode: "isEnableAdjustMode", popUpContent: "popUpContent" }, outputs: { onRemoveAction: "onRemoveAction", onDropAcion: "onDropAcion", onCellClickAction: "onCellClickAction", onCreateNewLession: "onCreateNewLession", isInProgress: "isInProgress" }, usesOnChanges: true, ngImport: i0, template: "<div class=\"timetable-ui\" [class.in-processing]=\"showProgressLoading\">\n  <div class=\"timetable-ui-prefix-column timetable-ui-day-column\">\n    <div class=\"timetable-ui-day-column-lesson\">\n      <div\n        class=\"timetable-ui-day-lesson-item\"\n        *ngFor=\"let lessonNum of dayLessionSlots\"\n      >\n        <div>\n          <span>Ti\u1EBFt {{ lessonNum + 1 }}</span>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div\n    *ngFor=\"let day of objectKeys(timeTableData)\"\n    class=\"timetable-ui-day-column\"\n  >\n    <div class=\"timetable-ui-day-column-lesson\">\n      <div class=\"timetable-ui-day-name\">\n        {{ day | translate }}\n      </div>\n      <div\n        class=\"timetable-ui-day-lesson-item timetable-ui-day-lesson-item-value\"\n        *ngFor=\"let slotNum of dayLessionSlots\"\n      >\n        <div\n          dndDropzone\n          [class.tbl-editing-mode]=\"isEnableAdjustMode\"\n          (dndDrop)=\"onDrop($event, day, slotNum + 1, timeShift)\"\n          [ngbPopover]=\"popContent\"\n          [autoClose]=\"'outside'\"\n          triggers=\"manual\"\n          #p=\"ngbPopover\"\n          placement=\"auto\"\n          class=\"timetable-ui-cell-container\"\n          [class.empty-lession]=\"\n            !getLessonByOrder(day, slotNum + 1, timeShift)?.length\n          \"\n          [class.is-disabled]=\"!getSlot(day, slotNum + 1)?.enabled\"\n          (click)=\"onCellClick(p, day, slotNum + 1, timeShift)\"\n        >\n          <div class=\"dnd-dropzone-slot\" dndPlaceholderRef></div>\n          <div\n            *ngFor=\"let lesson of getLessonByOrder(day, slotNum + 1, timeShift)\"\n            class=\"timetable-ui-day-lesson-item__item\"\n            [dndDraggable]=\"lesson\"\n            [dndDisableIf]=\"draggable.disable\"\n          >\n            <div>\n              <h4>{{ lesson?.details?.major.name }}</h4>\n              <p\n                class=\"sub-text-one\"\n                (click)=\"onClickTutorName(lesson.details.tutor)\"\n              >\n                <ng-container *ngIf=\"type === 'TUTOR'\">{{\n                  lesson?.details?.clazz.name\n                }}</ng-container>\n                <ng-container *ngIf=\"type === 'CLASS'\">{{\n                  lesson?.details?.tutor.name\n                }}</ng-container>\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n<ng-template #popContent>\n  <div class=\"schedule-pop-content\" *ngIf=\"mode == MODE.NEW\">\n    <div class=\"mb-1\">\n      <div class=\"schedule-pop-content-header\">\n        <span>Th\u00EAm ti\u1EBFt m\u1EDBi</span>\n      </div>\n      <div class=\"schedule-pop-content-line mb-2\"></div>\n      <form [formGroup]=\"form\" class=\"form\" (ngSubmit)=\"createNewLession()\">\n        <div class=\"form-group\">\n          <label class=\"required\">{{ \"major.major\" | translate }}</label>\n\n          <div class=\"d-block\">\n            <ng-select2\n              formControlName=\"majorCode\"\n              class=\"w-100\"\n              width=\"100%\"\n              (valueChanged)=\"onSelectTeachManagement($event)\"\n            >\n              <option value=\"-1\">{{ \"pleaseSelect\" | translate }}</option>\n              <option\n                *ngFor=\"let item of majorsTranscript\"\n                value=\"{{ item.code }}\"\n              >\n                {{ item.title }}\n              </option>\n            </ng-select2>\n          </div>\n        </div>\n\n        <div class=\"form-group\" *ngIf=\"isAssignedTutor\">\n          <p class=\"sub-text-one\">\n            Gi\u00E1o vi\u00EAn: {{ activeTeachManagement?.teachManagement?.tutorName }}\n          </p>\n        </div>\n\n        <p class=\"unassigned_tutor\" *ngIf=\"isUnAssignedTutor\">\n          Gi\u00E1o vi\u00EAn: Ch\u01B0a \u0111\u01B0\u1EE3c ph\u00E2n c\u00F4ng.\n        </p>\n\n        <div class=\"buttons\">\n          <button\n            type=\"submit\"\n            [disabled]=\"!isAssignedTutor\"\n            color=\"primary\"\n            class=\"edit-button\"\n          >\n            {{ \"saveChange\" | translate }}\n          </button>\n          <button\n            color=\"primary\"\n            type=\"button\"\n            (click)=\"closeForm()\"\n            class=\"action-btn\"\n          >\n            {{ \"cancel\" | translate }}\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n\n  <ng-container *ngIf=\"mode == MODE.EDIT\">\n    <button\n      type=\"button\"\n      (click)=\"removeLessionFromCell()\"\n      color=\"danger\"\n      class=\"edit-button\"\n    >\n      Xo\u00E1 ti\u1EBFt\n    </button>\n  </ng-container>\n</ng-template>\n\n", styles: [".timetable-ui-prefix-column{width:65px!important}.timetable-ui-prefix-column span{display:block;width:60px}.timetable-ui-prefix-column .timetable-ui-day-lesson-item{font-weight:600;font-size:12px;line-height:12px;position:relative;text-align:center;color:#737579}.timetable-ui-prefix-column .timetable-ui-day-lesson-item:first-child{border-top:none;margin-top:40px}.timetable-ui-prefix-column .timetable-ui-day-lesson-item:first-child>div{border-top:none}.timetable-ui{flex:1;display:flex;flex-direction:row;justify-content:space-between;border:1px solid #e2e8f0;overflow:inherit!important}.timetable-ui .timetable-ui-day-name{text-align:center;padding:10px 8px;width:100%;border:1px solid #e2e8f0}.timetable-ui .timetable-ui-day-column{width:100%}.timetable-ui.in-processing .timetable-ui-day-lesson-item-value .timetable-ui-day-lesson-item__item{opacity:.5}.timetable-ui .timetable-ui-day-column-lesson{display:flex;flex-direction:column}.timetable-ui .timetable-ui-day-column-lesson>.timetable-ui-day-lesson-item{position:relative}.timetable-ui .timetable-ui-day-column-lesson>.timetable-ui-day-lesson-item>div{padding:10px;height:58px;display:block;line-height:20px;width:100%;text-align:center;border:1px solid #e2e8f0;display:flex;align-items:center;justify-content:center}.timetable-ui .timetable-ui-day-column-lesson>.timetable-ui-day-lesson-item>div:hover{border-color:#999}.timetable-ui .timetable-ui-day-column-lesson>.timetable-ui-day-lesson-item>div.is-disabled{cursor:not-allowed!important}.timetable-ui .timetable-ui-day-column-lesson>.timetable-ui-day-lesson-item>div div.timetable-ui-day-lesson-item__item h4{width:100%;overflow:hidden;text-overflow:ellipsis;margin:0;color:#000;font-weight:700;font-size:12px}.timetable-ui .timetable-ui-day-column-lesson>.timetable-ui-day-lesson-item>div div.timetable-ui-day-lesson-item__item .sub-text-one{font-weight:400;font-size:12px;cursor:pointer;line-height:20px;margin:0;text-align:center;font-style:normal;color:#737579}.timetable__academic-year .mat-select{width:200px!important;margin:0 10px}.timetable__grade .mat-select{width:120px!important;margin:0 10px}.timetable__class .multi-select{margin:0 10px;width:200px!important}.timetable__semester--options{width:120px!important}.timetable__semester .mat-select{width:120px!important;margin:0 10px}h4.timeshift_title{font-size:14px;color:#2c2c2c;font-weight:600;text-align:center;margin:0;display:block}.timetable-timeshift-section-heading{padding:16px 8px;color:#737579;margin:0;display:block;align-items:center;background:#f5f5f5;display:flex;flex-direction:row;justify-content:space-between}.timetable-timeshift-section-heading .custom-control-label{font-weight:500;font-size:14px;letter-spacing:.01em;color:#000}.dnd-dropzone-slot{border:1px orangered solid;border-radius:5px;padding:15px;position:absolute;inset:5px}.tbl-editing-mode.empty-lession{background-color:#f8f8f8}.tbl-editing-mode.empty-lession:hover{background-color:#fafafa}.schedule-pop-content{width:301px;padding:6px}.schedule-pop-content h4{font-weight:700;font-size:12px;margin-bottom:5px;line-height:22px;color:#000;padding-bottom:8px;border-bottom:1px solid #eaeaea}.schedule-pop-content .schedule-pop-content-header{border-bottom:1px solid #eaeaea;margin-bottom:5px;padding-bottom:16px}.schedule-pop-content .schedule-pop-content-header span{font-style:normal;font-weight:700;font-size:14px;line-height:16px;text-align:center;letter-spacing:.01em;color:#000}.schedule-pop-content .schedule-pop-content-links{display:flex;flex-direction:row;gap:16px}.schedule-pop-content .schedule-pop-content-links span{font-weight:700;white-space:nowrap;font-size:12px;cursor:pointer;line-height:22px;text-decoration-line:underline;color:#1e88e5}.schedule-pop-content .class-online-label{font-weight:700;font-size:12px;line-height:22px;color:#999;text-decoration-line:underline}.schedule-pop-content .class-online-label.is-on{cursor:pointer;color:#1e88e5!important}::ng-deep .popover{max-width:498px;background:#ffffff;border:none;box-shadow:0 8px 12px #091e4226,0 0 1px #091e424f;border-radius:5px;color:#000}::ng-deep .popover p{color:#000}::ng-deep .popover p.sub-text-one{color:#737579}::ng-deep .popover p.unassigned_tutor{font-weight:400;font-size:14px;line-height:18px;color:#d93a3a}::ng-deep .popover .remove-icon{height:auto;width:18px;line-height:0}\n"], dependencies: [{ kind: "directive", type: i2.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i3.DndDraggableDirective, selector: "[dndDraggable]", inputs: ["dndDraggable", "dndEffectAllowed", "dndType", "dndDraggingClass", "dndDraggingSourceClass", "dndDraggableDisabledClass", "dndDragImageOffsetFunction", "dndDisableIf", "dndDisableDragIf"], outputs: ["dndStart", "dndDrag", "dndEnd", "dndMoved", "dndCopied", "dndLinked", "dndCanceled"] }, { kind: "directive", type: i3.DndDropzoneDirective, selector: "[dndDropzone]", inputs: ["dndDropzone", "dndEffectAllowed", "dndAllowExternal", "dndHorizontal", "dndDragoverClass", "dndDropzoneDisabledClass", "dndDisableIf", "dndDisableDropIf"], outputs: ["dndDragover", "dndDrop"] }, { kind: "directive", type: i3.DndPlaceholderRefDirective, selector: "[dndPlaceholderRef]" }, { kind: "component", type: i4.NgSelect2Component, selector: "ng-select2", inputs: ["data", "placeholder", "dropdownParent", "allowClear", "value", "width", "disabled", "id", "class", "required", "options"], outputs: ["valueChanged"] }, { kind: "directive", type: i1.ɵNgNoValidate, selector: "form:not([ngNoForm]):not([ngNativeValidate])" }, { kind: "directive", type: i1.NgSelectOption, selector: "option", inputs: ["ngValue", "value"] }, { kind: "directive", type: i1.ɵNgSelectMultipleOption, selector: "option", inputs: ["ngValue", "value"] }, { kind: "directive", type: i1.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i1.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { kind: "directive", type: i1.FormGroupDirective, selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { kind: "directive", type: i1.FormControlName, selector: "[formControlName]", inputs: ["formControlName", "disabled", "ngModel"], outputs: ["ngModelChange"] }, { kind: "directive", type: i5.NgbPopover, selector: "[ngbPopover]", inputs: ["animation", "autoClose", "ngbPopover", "popoverTitle", "placement", "popperOptions", "triggers", "positionTarget", "container", "disablePopover", "popoverClass", "openDelay", "closeDelay"], outputs: ["shown", "hidden"], exportAs: ["ngbPopover"] }, { kind: "pipe", type: i6.TranslatePipe, name: "translate" }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.9", ngImport: i0, type: TimetableComponent, decorators: [{
            type: Component,
            args: [{ selector: 'tada-ngx-timetable', template: "<div class=\"timetable-ui\" [class.in-processing]=\"showProgressLoading\">\n  <div class=\"timetable-ui-prefix-column timetable-ui-day-column\">\n    <div class=\"timetable-ui-day-column-lesson\">\n      <div\n        class=\"timetable-ui-day-lesson-item\"\n        *ngFor=\"let lessonNum of dayLessionSlots\"\n      >\n        <div>\n          <span>Ti\u1EBFt {{ lessonNum + 1 }}</span>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div\n    *ngFor=\"let day of objectKeys(timeTableData)\"\n    class=\"timetable-ui-day-column\"\n  >\n    <div class=\"timetable-ui-day-column-lesson\">\n      <div class=\"timetable-ui-day-name\">\n        {{ day | translate }}\n      </div>\n      <div\n        class=\"timetable-ui-day-lesson-item timetable-ui-day-lesson-item-value\"\n        *ngFor=\"let slotNum of dayLessionSlots\"\n      >\n        <div\n          dndDropzone\n          [class.tbl-editing-mode]=\"isEnableAdjustMode\"\n          (dndDrop)=\"onDrop($event, day, slotNum + 1, timeShift)\"\n          [ngbPopover]=\"popContent\"\n          [autoClose]=\"'outside'\"\n          triggers=\"manual\"\n          #p=\"ngbPopover\"\n          placement=\"auto\"\n          class=\"timetable-ui-cell-container\"\n          [class.empty-lession]=\"\n            !getLessonByOrder(day, slotNum + 1, timeShift)?.length\n          \"\n          [class.is-disabled]=\"!getSlot(day, slotNum + 1)?.enabled\"\n          (click)=\"onCellClick(p, day, slotNum + 1, timeShift)\"\n        >\n          <div class=\"dnd-dropzone-slot\" dndPlaceholderRef></div>\n          <div\n            *ngFor=\"let lesson of getLessonByOrder(day, slotNum + 1, timeShift)\"\n            class=\"timetable-ui-day-lesson-item__item\"\n            [dndDraggable]=\"lesson\"\n            [dndDisableIf]=\"draggable.disable\"\n          >\n            <div>\n              <h4>{{ lesson?.details?.major.name }}</h4>\n              <p\n                class=\"sub-text-one\"\n                (click)=\"onClickTutorName(lesson.details.tutor)\"\n              >\n                <ng-container *ngIf=\"type === 'TUTOR'\">{{\n                  lesson?.details?.clazz.name\n                }}</ng-container>\n                <ng-container *ngIf=\"type === 'CLASS'\">{{\n                  lesson?.details?.tutor.name\n                }}</ng-container>\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n<ng-template #popContent>\n  <div class=\"schedule-pop-content\" *ngIf=\"mode == MODE.NEW\">\n    <div class=\"mb-1\">\n      <div class=\"schedule-pop-content-header\">\n        <span>Th\u00EAm ti\u1EBFt m\u1EDBi</span>\n      </div>\n      <div class=\"schedule-pop-content-line mb-2\"></div>\n      <form [formGroup]=\"form\" class=\"form\" (ngSubmit)=\"createNewLession()\">\n        <div class=\"form-group\">\n          <label class=\"required\">{{ \"major.major\" | translate }}</label>\n\n          <div class=\"d-block\">\n            <ng-select2\n              formControlName=\"majorCode\"\n              class=\"w-100\"\n              width=\"100%\"\n              (valueChanged)=\"onSelectTeachManagement($event)\"\n            >\n              <option value=\"-1\">{{ \"pleaseSelect\" | translate }}</option>\n              <option\n                *ngFor=\"let item of majorsTranscript\"\n                value=\"{{ item.code }}\"\n              >\n                {{ item.title }}\n              </option>\n            </ng-select2>\n          </div>\n        </div>\n\n        <div class=\"form-group\" *ngIf=\"isAssignedTutor\">\n          <p class=\"sub-text-one\">\n            Gi\u00E1o vi\u00EAn: {{ activeTeachManagement?.teachManagement?.tutorName }}\n          </p>\n        </div>\n\n        <p class=\"unassigned_tutor\" *ngIf=\"isUnAssignedTutor\">\n          Gi\u00E1o vi\u00EAn: Ch\u01B0a \u0111\u01B0\u1EE3c ph\u00E2n c\u00F4ng.\n        </p>\n\n        <div class=\"buttons\">\n          <button\n            type=\"submit\"\n            [disabled]=\"!isAssignedTutor\"\n            color=\"primary\"\n            class=\"edit-button\"\n          >\n            {{ \"saveChange\" | translate }}\n          </button>\n          <button\n            color=\"primary\"\n            type=\"button\"\n            (click)=\"closeForm()\"\n            class=\"action-btn\"\n          >\n            {{ \"cancel\" | translate }}\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n\n  <ng-container *ngIf=\"mode == MODE.EDIT\">\n    <button\n      type=\"button\"\n      (click)=\"removeLessionFromCell()\"\n      color=\"danger\"\n      class=\"edit-button\"\n    >\n      Xo\u00E1 ti\u1EBFt\n    </button>\n  </ng-container>\n</ng-template>\n\n", styles: [".timetable-ui-prefix-column{width:65px!important}.timetable-ui-prefix-column span{display:block;width:60px}.timetable-ui-prefix-column .timetable-ui-day-lesson-item{font-weight:600;font-size:12px;line-height:12px;position:relative;text-align:center;color:#737579}.timetable-ui-prefix-column .timetable-ui-day-lesson-item:first-child{border-top:none;margin-top:40px}.timetable-ui-prefix-column .timetable-ui-day-lesson-item:first-child>div{border-top:none}.timetable-ui{flex:1;display:flex;flex-direction:row;justify-content:space-between;border:1px solid #e2e8f0;overflow:inherit!important}.timetable-ui .timetable-ui-day-name{text-align:center;padding:10px 8px;width:100%;border:1px solid #e2e8f0}.timetable-ui .timetable-ui-day-column{width:100%}.timetable-ui.in-processing .timetable-ui-day-lesson-item-value .timetable-ui-day-lesson-item__item{opacity:.5}.timetable-ui .timetable-ui-day-column-lesson{display:flex;flex-direction:column}.timetable-ui .timetable-ui-day-column-lesson>.timetable-ui-day-lesson-item{position:relative}.timetable-ui .timetable-ui-day-column-lesson>.timetable-ui-day-lesson-item>div{padding:10px;height:58px;display:block;line-height:20px;width:100%;text-align:center;border:1px solid #e2e8f0;display:flex;align-items:center;justify-content:center}.timetable-ui .timetable-ui-day-column-lesson>.timetable-ui-day-lesson-item>div:hover{border-color:#999}.timetable-ui .timetable-ui-day-column-lesson>.timetable-ui-day-lesson-item>div.is-disabled{cursor:not-allowed!important}.timetable-ui .timetable-ui-day-column-lesson>.timetable-ui-day-lesson-item>div div.timetable-ui-day-lesson-item__item h4{width:100%;overflow:hidden;text-overflow:ellipsis;margin:0;color:#000;font-weight:700;font-size:12px}.timetable-ui .timetable-ui-day-column-lesson>.timetable-ui-day-lesson-item>div div.timetable-ui-day-lesson-item__item .sub-text-one{font-weight:400;font-size:12px;cursor:pointer;line-height:20px;margin:0;text-align:center;font-style:normal;color:#737579}.timetable__academic-year .mat-select{width:200px!important;margin:0 10px}.timetable__grade .mat-select{width:120px!important;margin:0 10px}.timetable__class .multi-select{margin:0 10px;width:200px!important}.timetable__semester--options{width:120px!important}.timetable__semester .mat-select{width:120px!important;margin:0 10px}h4.timeshift_title{font-size:14px;color:#2c2c2c;font-weight:600;text-align:center;margin:0;display:block}.timetable-timeshift-section-heading{padding:16px 8px;color:#737579;margin:0;display:block;align-items:center;background:#f5f5f5;display:flex;flex-direction:row;justify-content:space-between}.timetable-timeshift-section-heading .custom-control-label{font-weight:500;font-size:14px;letter-spacing:.01em;color:#000}.dnd-dropzone-slot{border:1px orangered solid;border-radius:5px;padding:15px;position:absolute;inset:5px}.tbl-editing-mode.empty-lession{background-color:#f8f8f8}.tbl-editing-mode.empty-lession:hover{background-color:#fafafa}.schedule-pop-content{width:301px;padding:6px}.schedule-pop-content h4{font-weight:700;font-size:12px;margin-bottom:5px;line-height:22px;color:#000;padding-bottom:8px;border-bottom:1px solid #eaeaea}.schedule-pop-content .schedule-pop-content-header{border-bottom:1px solid #eaeaea;margin-bottom:5px;padding-bottom:16px}.schedule-pop-content .schedule-pop-content-header span{font-style:normal;font-weight:700;font-size:14px;line-height:16px;text-align:center;letter-spacing:.01em;color:#000}.schedule-pop-content .schedule-pop-content-links{display:flex;flex-direction:row;gap:16px}.schedule-pop-content .schedule-pop-content-links span{font-weight:700;white-space:nowrap;font-size:12px;cursor:pointer;line-height:22px;text-decoration-line:underline;color:#1e88e5}.schedule-pop-content .class-online-label{font-weight:700;font-size:12px;line-height:22px;color:#999;text-decoration-line:underline}.schedule-pop-content .class-online-label.is-on{cursor:pointer;color:#1e88e5!important}::ng-deep .popover{max-width:498px;background:#ffffff;border:none;box-shadow:0 8px 12px #091e4226,0 0 1px #091e424f;border-radius:5px;color:#000}::ng-deep .popover p{color:#000}::ng-deep .popover p.sub-text-one{color:#737579}::ng-deep .popover p.unassigned_tutor{font-weight:400;font-size:14px;line-height:18px;color:#d93a3a}::ng-deep .popover .remove-icon{height:auto;width:18px;line-height:0}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.UntypedFormBuilder }]; }, propDecorators: { filterForm: [{
                type: Input
            }], timeShift: [{
                type: Input
            }], schoolYear: [{
                type: Input
            }], type: [{
                type: Input
            }], grades: [{
                type: Input
            }], lessions: [{
                type: Input
            }], timetableProblemId: [{
                type: Input
            }], majorsTranscript: [{
                type: Input
            }], classes: [{
                type: Input
            }], timeslots: [{
                type: Input
            }], isEnableAdjustMode: [{
                type: Input
            }], onRemoveAction: [{
                type: Output
            }], onDropAcion: [{
                type: Output
            }], onCellClickAction: [{
                type: Output
            }], popUpContent: [{
                type: Input
            }], onCreateNewLession: [{
                type: Output
            }], isInProgress: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGltZXRhYmxlLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL3RpbWV0YWJsZS9zcmMvbGliL3RpbWV0YWJsZS5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi9wcm9qZWN0cy90aW1ldGFibGUvc3JjL2xpYi90aW1ldGFibGUuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUF3QixNQUFNLEVBQThCLE1BQU0sZUFBZSxDQUFDO0FBQ3pILE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFDL0IsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDMUQsT0FBTyxLQUFLLENBQUMsTUFBTSxRQUFRLENBQUM7Ozs7Ozs7O0FBK0I1QixNQUFNLE9BQU8sa0JBQWtCO0lBK0U5QixZQUNTLEVBQXNCO1FBQXRCLE9BQUUsR0FBRixFQUFFLENBQW9CO1FBL0UvQixlQUFVLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQztRQUN6QixjQUFTLEdBQUc7WUFDWCxLQUFLLEVBQUUsT0FBTztZQUNkLE1BQU0sRUFBRSxRQUFRO1lBQ2hCLEdBQUcsRUFBRSxLQUFLO1NBQ1YsQ0FBQTtRQUNELGNBQVMsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUN4Qyx3QkFBbUIsR0FBUSxJQUFJLENBQUM7UUFDZixlQUFVLEdBQUcsSUFBSSxPQUFPLEVBQVEsQ0FBQztRQUNsRCxTQUFJLEdBQUc7WUFDTixJQUFJLEVBQUUsTUFBTTtZQUNaLEdBQUcsRUFBRSxLQUFLO1NBQ1YsQ0FBQTtRQVdRLHVCQUFrQixHQUFZLEtBQUssQ0FBQztRQUNuQyxtQkFBYyxHQUFHLElBQUksWUFBWSxFQUFPLENBQUM7UUFDekMsZ0JBQVcsR0FBRyxJQUFJLFlBQVks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QUFDO0lBQ3ZCLENBQUM7OytHQW5VVyxrQkFBa0I7bUdBQWxCLGtCQUFrQiw0bEJDbEMvQixrb0pBNklBOzJGRDNHYSxrQkFBa0I7a0JBTDlCLFNBQVM7K0JBQ0Msb0JBQW9CO3lHQWtCckIsVUFBVTtzQkFBbEIsS0FBSztnQkFDRyxTQUFTO3NCQUFqQixLQUFLO2dCQUNHLFVBQVU7c0JBQWxCLEtBQUs7Z0JBQ0csSUFBSTtzQkFBWixLQUFLO2dCQUNHLE1BQU07c0JBQWQsS0FBSztnQkFDRyxRQUFRO3NCQUFoQixLQUFLO2dCQUNHLGtCQUFrQjtzQkFBMUIsS0FBSztnQkFDRyxnQkFBZ0I7c0JBQXhCLEtBQUs7Z0JBQ0csT0FBTztzQkFBZixLQUFLO2dCQUNHLFNBQVM7c0JBQWpCLEtBQUs7Z0JBQ0csa0JBQWtCO3NCQUExQixLQUFLO2dCQUNJLGNBQWM7c0JBQXZCLE1BQU07Z0JBQ0csV0FBVztzQkFBcEIsTUFBTTtnQkFDRyxpQkFBaUI7c0JBQTFCLE1BQU07Z0JBQ0UsWUFBWTtzQkFBcEIsS0FBSztnQkFDSSxrQkFBa0I7c0JBQTNCLE1BQU07Z0JBMkJHLFlBQVk7c0JBQXJCLE1BQU0iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIEV2ZW50RW1pdHRlciwgSW5wdXQsIE9uQ2hhbmdlcywgT25EZXN0cm95LCBPdXRwdXQsIFNpbXBsZUNoYW5nZXMsIFRlbXBsYXRlUmVmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBUaW1ldGFibGVDb25zdGFudHMgfSBmcm9tICcuL3RpbWV0YWJsZS5jb25zdGFudCc7XG5pbXBvcnQgKiBhcyBfIGZyb20gXCJsb2Rhc2hcIjtcbmltcG9ydCB7IERuZERyb3BFdmVudCB9IGZyb20gJ25neC1kcmFnLWRyb3AnO1xuaW1wb3J0IHsgVW50eXBlZEZvcm1CdWlsZGVyLCBVbnR5cGVkRm9ybUdyb3VwIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIElUaW1ldGFibGVTbG90IHtcblx0aWQ6IHN0cmluZztcblx0ZW5hYmxlZDogYm9vbGVhbixcblx0ZGF5T2ZXZWVrOiBzdHJpbmc7XG5cdHRpbWVzbG90OiBhbnksXG5cdHRpbWVTaGlmdDogc3RyaW5nO1xuXHRzdGFydFRpbWU6IG51bWJlcjtcblx0ZW5kVGltZTogbnVtYmVyO1xuXHRvcmRlcjogbnVtYmVyO1xuXHRhdmFpbGFibGU6IGJvb2xlYW47XG5cdGRldGFpbHM/OiBJQXZhaWxhYmlsaXR5IHwgbnVsbFxufVxuZXhwb3J0IGludGVyZmFjZSBJQXZhaWxhYmlsaXR5IHtcblx0aWQ/OiBudW1iZXIgfCBudWxsO1xuXHR0aW1lc2xvdElkOiBzdHJpbmc7XG5cdHNjaG9vbFllYXI6IG51bWJlcjtcblx0dGltZVNoaWZ0Pzogc3RyaW5nO1xuXHRzZW1lc3Rlcjogc3RyaW5nO1xuXHRhdmFpbGFibGU6IGJvb2xlYW47XG5cdGdyYWRlQ29kZTogc3RyaW5nO1xuXHRyZWFzb25PZlVuYXZhaWxhYmlsaXR5OiBhbnk7XG59XG5AQ29tcG9uZW50KHtcblx0c2VsZWN0b3I6ICd0YWRhLW5neC10aW1ldGFibGUnLFxuXHR0ZW1wbGF0ZVVybDogJ3RpbWV0YWJsZS5jb21wb25lbnQuaHRtbCcsXG5cdHN0eWxlVXJsczogW1widGltZXRhYmxlLmNvbXBvbmVudC5zY3NzXCJdXG59KVxuZXhwb3J0IGNsYXNzIFRpbWV0YWJsZUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uRGVzdHJveSwgT25DaGFuZ2VzIHtcblx0b2JqZWN0S2V5cyA9IE9iamVjdC5rZXlzO1xuXHRTRU1FU1RFUlMgPSB7XG5cdFx0RklSU1Q6ICdGSVJTVCcsXG5cdFx0U0VDT05EOiAnU0VDT05EJyxcblx0XHRBTEw6ICdBTEwnXG5cdH1cblx0c2VtZXN0ZXJzID0gT2JqZWN0LmtleXModGhpcy5TRU1FU1RFUlMpO1xuXHRzb2x2ZXJTdGF0dXNNZXNzYWdlOiBhbnkgPSBudWxsO1xuXHRwcml2YXRlIHJlYWRvbmx5IGRlc3Ryb3llZCQgPSBuZXcgU3ViamVjdDx2b2lkPigpO1xuXHRNT0RFID0ge1xuXHRcdEVESVQ6ICdlZGl0Jyxcblx0XHRORVc6ICduZXcnXG5cdH1cblx0QElucHV0KCkgZmlsdGVyRm9ybTogYW55O1xuXHRASW5wdXQoKSB0aW1lU2hpZnQ6IGFueTtcblx0QElucHV0KCkgc2Nob29sWWVhcjogYW55O1xuXHRASW5wdXQoKSB0eXBlITogc3RyaW5nO1xuXHRASW5wdXQoKSBncmFkZXMhOiBhbnlbXTtcblx0QElucHV0KCkgbGVzc2lvbnMhOiBhbnlbXTtcblx0QElucHV0KCkgdGltZXRhYmxlUHJvYmxlbUlkITogYW55O1xuXHRASW5wdXQoKSBtYWpvcnNUcmFuc2NyaXB0ITogYW55W107XG5cdEBJbnB1dCgpIGNsYXNzZXMhOiBhbnlbXTtcblx0QElucHV0KCkgdGltZXNsb3RzITogYW55W107XG5cdEBJbnB1dCgpIGlzRW5hYmxlQWRqdXN0TW9kZTogYm9vbGVhbiA9IGZhbHNlO1xuXHRAT3V0cHV0KCkgb25SZW1vdmVBY3Rpb24gPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcblx0QE91dHB1dCgpIG9uRHJvcEFjaW9uID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG5cdEBPdXRwdXQoKSBvbkNlbGxDbGlja0FjdGlvbiA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuXHRASW5wdXQoKSBwb3BVcENvbnRlbnQhOiBUZW1wbGF0ZVJlZjxhbnk+O1xuXHRAT3V0cHV0KCkgb25DcmVhdGVOZXdMZXNzaW9uID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG5cblx0YWN0aXZlTGVzc2lvbnM6IGFueVtdID0gW107XG5cdGFjdGl2ZVRlYWNoTWFuYWdlbWVudDogYW55ID0gdW5kZWZpbmVkO1xuXHRwcml2YXRlIGRheXNPZldlZWsgPSBbXG5cdFx0XCJNT05EQVlcIixcblx0XHRcIlRVRVNEQVlcIixcblx0XHRcIldFRE5FU0RBWVwiLFxuXHRcdFwiVEhVUlNEQVlcIixcblx0XHRcIkZSSURBWVwiLFxuXHRcdFwiU0FUVVJEQVlcIixcblx0XHRcIlNVTkRBWVwiLFxuXHRdO1xuXG5cdG1vZGU6IGFueTtcblxuXHRkcmFnZ2FibGUgPSB7XG5cdFx0ZGF0YTogbnVsbCxcblx0XHRlZmZlY3RBbGxvd2VkOiBcImFsbFwiLFxuXHRcdGRpc2FibGU6IHRydWUsXG5cdFx0aGFuZGxlOiBmYWxzZVxuXHR9O1xuXG5cdGZvcm0hOiBVbnR5cGVkRm9ybUdyb3VwO1xuXHR0aW1lVGFibGVEYXRhOiBhbnkgPSB7fTtcblx0bGVzc29ucyA9IFtcIkxPQURJTkdcIiwgXCJMT0FESU5HXCIsIFwiTE9BRElOR1wiLCBcIkxPQURJTkdcIiwgXCJMT0FESU5HXCIsIFwiTE9BRElOR1wiXTtcblx0aXNBdXRvVXBkYXRlQ2xhc3NJZHM6IGJvb2xlYW4gPSBmYWxzZTtcblx0QE91dHB1dCgpIGlzSW5Qcm9ncmVzcyA9IG5ldyBFdmVudEVtaXR0ZXI8Ym9vbGVhbj4oKTtcblx0c2VsZWN0ZWRDbGFzc2VzOiBhbnlbXSA9IFtdO1xuXHRjbGFzc0xpc3RTZWxlY3RlZERlZmF1bHQ6IGFueVtdID0gW107XG5cdHRlYWNoTWFuYWdlbWVudHM6IGFueVtdID0gW107XG5cdGRheUxlc3Npb25TbG90cyA9IFsuLi5BcnJheSg1KS5rZXlzKCldO1xuXHRDQUxMQkFDS19USU1FID0gNTAwMDtcblx0Y2hlY2tpbmdHZW5lcmF0ZVByb2dyZXNzZXI6IGFueSA9IG51bGw7XG5cdGlzRGlzYWJsZWRQbGFubmluZzogYm9vbGVhbiA9IGZhbHNlO1xuXHRzbG90TnVtT2ZEYXk6IGFueVtdID0gW107XG5cdHNob3dQcm9ncmVzc0xvYWRpbmc6IGJvb2xlYW4gPSBmYWxzZTtcblxuXHRUSU1FVEFCTEVfRURJVF9NT0RFID0gVGltZXRhYmxlQ29uc3RhbnRzLlRJTUVUQUJMRV9FRElUX01PREU7XG5cblx0YWN0aXZlU2xvdDogYW55O1xuXHRhY3RpdmVGb3JtRGlhbG9nOiBhbnk7XG5cblx0Rk9STV9GSUVMRFMgPSB7XG5cdFx0TUFKT1I6ICdtYWpvckNvZGUnLFxuXHRcdFRVVE9SOiAndHV0b3JVdWlkJyxcblx0XHRDTEFTU19JRDogJ2NsYXNzSWQnLFxuXHRcdFNFTUVTVEVSOiAnc2VtZXN0ZXInXG5cdH07XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0cHJpdmF0ZSBmYjogVW50eXBlZEZvcm1CdWlsZGVyLFxuXHQpIHtcblx0XHR0aGlzLmZvcm0gPSB0aGlzLmZiLmdyb3VwKFxuXHRcdFx0e1xuXHRcdFx0XHRbdGhpcy5GT1JNX0ZJRUxEUy5NQUpPUl06IFt7IHZhbHVlOiAtMSB9XSxcblx0XHRcdFx0W3RoaXMuRk9STV9GSUVMRFMuVFVUT1JdOiBbeyB2YWx1ZTogJycgfV1cblx0XHRcdH1cblx0XHQpO1xuXHR9XG5cblx0bmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcyk6IHZvaWQge1xuXG5cdFx0aWYgKGNoYW5nZXNbJ3RpbWVTaGlmdCddPy5jdXJyZW50VmFsdWUpIHtcblx0XHRcdHRoaXMuYnVpbGRUaW1lVGFibGVCYXNpYygpO1xuXHRcdH1cblx0XHRcblx0XHRpZiAoY2hhbmdlc1sndGltZXNsb3RzJ10/LmN1cnJlbnRWYWx1ZSAgKSB7XG5cdFx0XHRcdHRoaXMuaW5pdFRpbWV0YWJsZVNsb3QoKTtcblx0XHR9XG5cblx0XHRpZiAoY2hhbmdlc1snaXNFbmFibGVBZGp1c3RNb2RlJ10/LmN1cnJlbnRWYWx1ZSAgKSB7XG5cdFx0XHR0aGlzLmRyYWdnYWJsZSA9IHtcblx0XHRcdFx0Li4udGhpcy5kcmFnZ2FibGUsXG5cdFx0XHRcdGRpc2FibGU6ICF0aGlzLmlzRW5hYmxlQWRqdXN0TW9kZVxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRpZiAoY2hhbmdlc1snY2xhc3NlcyddPy5jdXJyZW50VmFsdWUgJiYgIWNoYW5nZXNbJ3RpbWVzbG90cyddPy5maXJzdENoYW5nZSkgIHtcblx0XHRcdHRoaXMucmVzZXRUaW1lVGFibGUoKTtcblx0XHR9XG5cblx0XHRpZiAoY2hhbmdlc1snbGVzc2lvbnMnXT8uY3VycmVudFZhbHVlKSB7XG5cdFx0XHR0aGlzLm1hcHBpbmdEYXRhVG9UYWJsZSgpO1xuXHRcdH1cblxuXHRcdGNvbnNvbGUubG9nKFwiY2hhbmdlczpcIiwgY2hhbmdlcyk7XG5cblx0fVxuXG5cdGluaXRUaW1ldGFibGVTbG90KCkge1xuXHRcdGNvbnN0IGFsbHRpbWVzbG90OiBJVGltZXRhYmxlU2xvdFtdID0gdGhpcy50aW1lc2xvdHM7XG5cdFx0dGhpcy5kYXlzT2ZXZWVrLmZvckVhY2goKGRheSkgPT4ge1xuXHRcdFx0Y29uc3Qgc2xvdHNPZkRheSA9IGFsbHRpbWVzbG90LmZpbHRlcihcblx0XHRcdFx0KHNsb3Q6IGFueSkgPT4gc2xvdC5kYXlPZldlZWsgPT09IGRheSAmJiBzbG90LnRpbWVTaGlmdCA9PT0gdGhpcy50aW1lU2hpZnRcblx0XHRcdCk7XG5cdFx0XHR0aGlzLnRpbWVUYWJsZURhdGFbZGF5XSA9IHtcblx0XHRcdFx0aXRlbXM6IF8ub3JkZXJCeShzbG90c09mRGF5LCBbXCJvcmRlclwiXSksXG5cdFx0XHR9O1xuXHRcdFx0Y29uc3QgbWF4TGVzc2lvbiA9IHRoaXMuZ2V0TWF4bGVzc2lvbk9yZGVyKHNsb3RzT2ZEYXkpO1xuXHRcdFx0dGhpcy5zbG90TnVtT2ZEYXkgPSBbLi4uQXJyYXkobWF4TGVzc2lvbikua2V5cygpXTtcblx0XHR9KTtcblx0fVxuXG5cdGdldE1heGxlc3Npb25PcmRlcih0aW1lU2xvdDogYW55W10pIHtcblx0XHRyZXR1cm4gXy5tYXhCeSh0aW1lU2xvdCwgKG86IGFueSkgPT4geyByZXR1cm4gby5vcmRlcjsgfSk/Lm9yZGVyIHx8IDEwO1xuXHR9XG5cblx0YnVpbGRUaW1lVGFibGVCYXNpYygpIHtcblx0XHR0aGlzLmRheXNPZldlZWsuZm9yRWFjaCgoZGF5OiBzdHJpbmcpID0+IHtcblx0XHRcdHRoaXMudGltZVRhYmxlRGF0YVtkYXldID0ge1xuXHRcdFx0XHRpdGVtczogW10sXG5cdFx0XHR9O1xuXHRcdH0pO1xuXHR9XG5cblx0bWFwcGluZ0RhdGFUb1RhYmxlKCkge1xuXHRcdHRoaXMuZGF5c09mV2Vlay5mb3JFYWNoKChkYXkpID0+IHtcblx0XHRcdGNvbnN0IHNsb3RzT2ZEYXkgPSB0aGlzLmxlc3Npb25zLmZpbHRlcihcblx0XHRcdFx0KHNsb3Q6IGFueSkgPT4gc2xvdC5kYXlPZldlZWsgPT09IGRheVxuXHRcdFx0KTtcblx0XHRcdHRoaXMudGltZVRhYmxlRGF0YVtkYXldID0ge1xuXHRcdFx0XHRpdGVtczogXy5vcmRlckJ5KHNsb3RzT2ZEYXksIFtcIm9yZGVyXCJdKSxcblx0XHRcdH07XG5cdFx0fSk7XG5cdFx0Y29uc29sZS5sb2coXCJ0aGlzLnRpbWVUYWJsZURhdGE6XCIsIHRoaXMudGltZVRhYmxlRGF0YSk7XG5cdH1cblxuXHRnZXRMZXNzb25CeU9yZGVyKGRheTogc3RyaW5nLCBpbmRleDogbnVtYmVyLCB0aW1lU2hpZnQ6IHN0cmluZykge1xuXHRcdHJldHVybiB0aGlzLnRpbWVUYWJsZURhdGFbZGF5XS5pdGVtcy5maWx0ZXIoXG5cdFx0XHQoaXRlbTogYW55KSA9PiB7XG5cdFx0XHRcdGNvbnN0IGZvdW5kID0gaXRlbS5vcmRlciA9PT0gaW5kZXggJiYgaXRlbT8udGltZVNoaWZ0ID09PSB0aW1lU2hpZnQ7XG5cdFx0XHRcdHJldHVybiBmb3VuZDtcblx0XHRcdH1cblx0XHQpO1xuXHR9XG5cblx0cmVzZXRUaW1lVGFibGUoKSB7XG5cdFx0dGhpcy5idWlsZFRpbWVUYWJsZUJhc2ljKCk7XG5cdH1cblxuXG5cdG9uQ2xpY2tUdXRvck5hbWUodHV0b3I6IGFueSkge1xuXHRcdHdpbmRvdy5vcGVuKGAvdHV0b3JzLyR7dHV0b3IudXVpZH1gLCAnX2JsYW5rJylcblx0fVxuXG5cdGdldEFjdGl2ZUdyYWRlTmFtZSgpIHtcblx0XHRyZXR1cm4gXy5maW5kKHRoaXMuZ3JhZGVzLCAoaXRlbTogYW55KSA9PiBpdGVtLmNvZGUgPT09IHRoaXMuZmlsdGVyRm9ybVsnZ3JhZGVDb2RlJ10pPy50aXRsZTtcblx0fVxuXG5cdG9uRHJvcChldmVudDogRG5kRHJvcEV2ZW50LCBkYXk6IHN0cmluZywgc2xvdE51bTogbnVtYmVyLCB0aW1lU2hpZnQ6IHN0cmluZykge1xuXG5cdFx0Y29uc3QgZHJvcFNsb3QgPSB0aGlzLmdldFNsb3QoZGF5LCBzbG90TnVtKTtcblxuXHRcdGNvbnN0IGRyb3BMZXNzaW9uID0ge1xuXHRcdFx0XCJpZFwiOiBfLmdldChldmVudCwgXCJkYXRhLmRldGFpbHMuaWRcIiwgMCksXG5cdFx0XHRcInNjaG9vbFllYXJcIjogXy5nZXQoZXZlbnQsIFwiZGF0YS5kZXRhaWxzLnNjaG9vbFllYXJcIiwgMCksXG5cdFx0XHRcInNlbWVzdGVyXCI6IF8uZ2V0KGV2ZW50LCBcImRhdGEuZGV0YWlscy5zZW1lc3RlclwiLCAwKSxcblx0XHRcdHRpbWVzbG90SWQ6IGRyb3BTbG90LmlkLFxuXHRcdFx0dGltZXRhYmxlUHJvYmxlbUlkOiB0aGlzLnRpbWV0YWJsZVByb2JsZW1JZCxcblx0XHRcdFwidHV0b3JcIjogXy5nZXQoZXZlbnQsIFwiZGF0YS5kZXRhaWxzLnR1dG9yXCIsIG51bGwpLFxuXHRcdFx0XCJtYWpvclwiOiBfLmdldChldmVudCwgXCJkYXRhLmRldGFpbHMubWFqb3JcIiwgbnVsbCksXG5cdFx0XHRcImNsYXp6XCI6IF8uZ2V0KGV2ZW50LCBcImRhdGEuZGV0YWlscy5jbGF6elwiLCBudWxsKSxcblx0XHR9O1xuXG5cdFx0Y29uc3QgcGF5bG9hZCA9IFtkcm9wTGVzc2lvbl07XG5cblx0XHRsZXQgY3VycmVudExlc3Npb24gPSBfLmdldCh0aGlzLmdldExlc3NvbkJ5T3JkZXIoZGF5LCBzbG90TnVtLCB0aW1lU2hpZnQpLCBcIjBcIiwgbnVsbCk7XG5cblx0XHRpZiAoY3VycmVudExlc3Npb24pIHtcblxuXHRcdFx0Y3VycmVudExlc3Npb24gPSB7XG5cdFx0XHRcdFwiaWRcIjogXy5nZXQoY3VycmVudExlc3Npb24sIFwiZGV0YWlscy5pZFwiLCAwKSxcblx0XHRcdFx0XCJzY2hvb2xZZWFyXCI6IF8uZ2V0KGN1cnJlbnRMZXNzaW9uLCBcImRldGFpbHMuc2Nob29sWWVhclwiLCAwKSxcblx0XHRcdFx0XCJzZW1lc3RlclwiOiBfLmdldChjdXJyZW50TGVzc2lvbiwgXCJkZXRhaWxzLnNlbWVzdGVyXCIsIDApLFxuXHRcdFx0XHR0aW1lc2xvdElkOiBfLmdldChldmVudCwgXCJkYXRhLmRldGFpbHMudGltZXNsb3QuaWRcIiwgMCksXG5cdFx0XHRcdHRpbWV0YWJsZVByb2JsZW1JZDogdGhpcy50aW1ldGFibGVQcm9ibGVtSWQsXG5cdFx0XHRcdFwidHV0b3JcIjogXy5nZXQoY3VycmVudExlc3Npb24sIFwiZGV0YWlscy50dXRvclwiLCBudWxsKSxcblx0XHRcdFx0XCJtYWpvclwiOiBfLmdldChjdXJyZW50TGVzc2lvbiwgXCJkZXRhaWxzLm1ham9yXCIsIG51bGwpLFxuXHRcdFx0XHRcImNsYXp6XCI6IF8uZ2V0KGN1cnJlbnRMZXNzaW9uLCBcImRldGFpbHMuY2xhenpcIiwgbnVsbCksXG5cdFx0XHR9O1xuXG5cdFx0XHRwYXlsb2FkLnB1c2goY3VycmVudExlc3Npb24pO1xuXHRcdH1cblxuXHRcdHRoaXMub25Ecm9wQWNpb24uZW1pdChwYXlsb2FkKTtcblxuXHR9XG5cblx0Y2hhbmdlT25PZmZTd2l0Y2goJGV2ZW50OiBhbnkpIHtcblxuXHRcdHRoaXMuaXNFbmFibGVBZGp1c3RNb2RlID0gJGV2ZW50LnRhcmdldC5jaGVja2VkO1xuXG5cdFx0dGhpcy5kcmFnZ2FibGUgPSB7XG5cdFx0XHQuLi50aGlzLmRyYWdnYWJsZSxcblx0XHRcdGRpc2FibGU6ICF0aGlzLmlzRW5hYmxlQWRqdXN0TW9kZVxuXHRcdH07XG5cblx0fVxuXG5cdGdldFNsb3QoZGF5OiBzdHJpbmcsIG9yZGVyOiBudW1iZXIpIHtcblx0XHRjb25zdCBzbG90ID0gdGhpcy50aW1lc2xvdHMuZmluZChcblx0XHRcdChzbG90OiBhbnkpID0+IHNsb3QuZGF5T2ZXZWVrID09PSBkYXkgJiYgc2xvdC50aW1lU2hpZnQgPT09IHRoaXMudGltZVNoaWZ0ICYmIHNsb3Qub3JkZXIgPT09IG9yZGVyXG5cdFx0KTtcblx0XHRyZXR1cm4gc2xvdDtcblx0fVxuXG5cdGdldFNsb3RCeU9yZGVyKGRheTogc3RyaW5nLCBpbmRleDogbnVtYmVyKSB7XG5cdFx0cmV0dXJuIHRoaXMudGltZVRhYmxlRGF0YVtkYXldLml0ZW1zLmZpbHRlcihcblx0XHRcdChpdGVtOiBJVGltZXRhYmxlU2xvdCkgPT4gaXRlbS5vcmRlciA9PT0gaW5kZXhcblx0XHQpO1xuXHR9XG5cblx0b25DZWxsQ2xpY2socDogYW55LCBkYXk6IHN0cmluZywgc2xvdE51bTogbnVtYmVyLCB0aW1lU2hpZnQ6IHN0cmluZykge1xuXG5cdFx0dGhpcy5hY3RpdmVTbG90ID0gdGhpcy5nZXRTbG90KGRheSwgc2xvdE51bSk7XG5cdFx0aWYgKCF0aGlzLmlzRW5hYmxlQWRqdXN0TW9kZSB8fCAhdGhpcy5hY3RpdmVTbG90LmVuYWJsZWQpIHJldHVybjtcblx0XHR0aGlzLmFjdGl2ZUxlc3Npb25zID0gdGhpcy5nZXRMZXNzb25CeU9yZGVyKGRheSwgc2xvdE51bSwgdGltZVNoaWZ0KTtcblx0XHRwLm9wZW4oKTtcblxuXHRcdGlmICghdGhpcy5hY3RpdmVMZXNzaW9ucz8ubGVuZ3RoKSB7XG5cdFx0XHR0aGlzLm1vZGUgPSB0aGlzLk1PREUuTkVXO1xuXHRcdFx0dGhpcy5hY3RpdmVGb3JtRGlhbG9nID0gcDtcblx0XHRcdHRoaXMub25DZWxsQ2xpY2tBY3Rpb24uZW1pdCh0aGlzLmFjdGl2ZUxlc3Npb25zKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5tb2RlID0gdGhpcy5NT0RFLkVESVQ7XG5cdFx0fVxuXHR9XG5cblx0b25TZWxlY3RUZWFjaE1hbmFnZW1lbnQoJGV2ZW50OiBhbnkpIHtcblx0XHR0aGlzLmFjdGl2ZVRlYWNoTWFuYWdlbWVudCA9IHRoaXMubWFqb3JzVHJhbnNjcmlwdC5maW5kKChpdGVtOiBhbnkpID0+IGl0ZW0uY29kZSA9PT0gJGV2ZW50KTtcblx0fVxuXG5cdGdldE1ham9yKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRcImNvZGVcIjogXy5nZXQodGhpcy5hY3RpdmVUZWFjaE1hbmFnZW1lbnQsICd0ZWFjaE1hbmFnZW1lbnQubWFqb3JDb2RlJywgMCksXG5cdFx0XHRcIm5hbWVcIjogXy5nZXQodGhpcy5hY3RpdmVUZWFjaE1hbmFnZW1lbnQsICd0ZWFjaE1hbmFnZW1lbnQubWFqb3JOYW1lJywgMCksXG5cdFx0fVxuXHR9XG5cblx0Z2V0VHV0b3IoKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdFwidXVpZFwiOiBfLmdldCh0aGlzLmFjdGl2ZVRlYWNoTWFuYWdlbWVudCwgJ3RlYWNoTWFuYWdlbWVudC50dXRvclV1aWQnLCAwKSxcblx0XHRcdFwibmFtZVwiOiBfLmdldCh0aGlzLmFjdGl2ZVRlYWNoTWFuYWdlbWVudCwgJ3RlYWNoTWFuYWdlbWVudC50dXRvck5hbWUnLCAwKVxuXHRcdH1cblx0fVxuXG5cdGdldENsYXp6KCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRcImNvZGVcIjogXy5nZXQodGhpcy5hY3RpdmVUZWFjaE1hbmFnZW1lbnQsICd0ZWFjaE1hbmFnZW1lbnQuY2xhc3NJZCcsIDApLFxuXHRcdFx0XCJuYW1lXCI6IF8uZ2V0KHRoaXMuYWN0aXZlVGVhY2hNYW5hZ2VtZW50LCAndGVhY2hNYW5hZ2VtZW50LmNsYXNzTmFtZScsIDApLFxuXHRcdFx0XCJncmFkZUNvZGVcIjogXy5nZXQodGhpcy5hY3RpdmVUZWFjaE1hbmFnZW1lbnQsICd0ZWFjaE1hbmFnZW1lbnQuZ3JhZGVDb2RlJywgMCksXG5cdFx0fVxuXHR9XG5cblx0Y3JlYXRlTmV3TGVzc2lvbigpIHtcblxuXHRcdGlmICghdGhpcy5mb3JtLnZhbGlkKSByZXR1cm47XG5cblx0XHRjb25zdCBwYXlsb2FkID0ge1xuXHRcdFx0XCJzY2hvb2xZZWFyXCI6IHRoaXMuc2Nob29sWWVhcixcblx0XHRcdFwic2VtZXN0ZXJcIjogdGhpcy5maWx0ZXJGb3JtLnNlbWVzdGVyLFxuXHRcdFx0XCJ0aW1lc2xvdElkXCI6IHRoaXMuYWN0aXZlU2xvdD8uaWQsXG5cdFx0XHRcInRpbWV0YWJsZVByb2JsZW1JZFwiOiB0aGlzLnRpbWV0YWJsZVByb2JsZW1JZCxcblx0XHRcdFwidHV0b3JcIjogdGhpcy5nZXRUdXRvcigpLFxuXHRcdFx0XCJtYWpvclwiOiB0aGlzLmdldE1ham9yKCksXG5cdFx0XHRcImNsYXp6XCI6IHRoaXMuZ2V0Q2xhenooKVxuXHRcdH1cblxuXHRcdHRoaXMub25DcmVhdGVOZXdMZXNzaW9uLmVtaXQocGF5bG9hZCk7XG5cblx0fVxuXG5cdGdldCBpc0Fzc2lnbmVkVHV0b3IoKSB7XG5cdFx0cmV0dXJuIHRoaXMuYWN0aXZlVGVhY2hNYW5hZ2VtZW50ICYmIHRoaXMuYWN0aXZlVGVhY2hNYW5hZ2VtZW50Py50ZWFjaE1hbmFnZW1lbnQ/LnR1dG9yTmFtZTtcblx0fVxuXG5cdGdldCBpc1VuQXNzaWduZWRUdXRvcigpIHtcblx0XHRyZXR1cm4gdGhpcy5hY3RpdmVUZWFjaE1hbmFnZW1lbnQgJiYgIXRoaXMuYWN0aXZlVGVhY2hNYW5hZ2VtZW50Py50ZWFjaE1hbmFnZW1lbnQ/LnR1dG9yTmFtZTtcblx0fVxuXG5cdGNsb3NlRm9ybSgpIHtcblx0XHR0aGlzLmFjdGl2ZUZvcm1EaWFsb2cuY2xvc2UoKTtcblx0fVxuXG5cdHJlbW92ZUxlc3Npb25Gcm9tQ2VsbCgpIHtcblx0XHRjb25zdCBhY3RpdmVMZXNzaW9uID0gdGhpcy5hY3RpdmVMZXNzaW9uc1swXTtcblx0XHR0aGlzLm9uUmVtb3ZlQWN0aW9uLmVtaXQoYWN0aXZlTGVzc2lvbilcblx0fVxuXG5cdG5nT25EZXN0cm95KCk6IHZvaWQge1xuXHRcdHRoaXMuZGVzdHJveWVkJC5uZXh0KCk7XG5cdFx0dGhpcy5kZXN0cm95ZWQkLmNvbXBsZXRlKCk7XG5cdFx0dGhpcy5yZXNldFRpbWVUYWJsZSgpO1xuXHR9XG59XG4iLCI8ZGl2IGNsYXNzPVwidGltZXRhYmxlLXVpXCIgW2NsYXNzLmluLXByb2Nlc3NpbmddPVwic2hvd1Byb2dyZXNzTG9hZGluZ1wiPlxuICA8ZGl2IGNsYXNzPVwidGltZXRhYmxlLXVpLXByZWZpeC1jb2x1bW4gdGltZXRhYmxlLXVpLWRheS1jb2x1bW5cIj5cbiAgICA8ZGl2IGNsYXNzPVwidGltZXRhYmxlLXVpLWRheS1jb2x1bW4tbGVzc29uXCI+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzPVwidGltZXRhYmxlLXVpLWRheS1sZXNzb24taXRlbVwiXG4gICAgICAgICpuZ0Zvcj1cImxldCBsZXNzb25OdW0gb2YgZGF5TGVzc2lvblNsb3RzXCJcbiAgICAgID5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8c3Bhbj5UaeG6v3Qge3sgbGVzc29uTnVtICsgMSB9fTwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG4gIDxkaXZcbiAgICAqbmdGb3I9XCJsZXQgZGF5IG9mIG9iamVjdEtleXModGltZVRhYmxlRGF0YSlcIlxuICAgIGNsYXNzPVwidGltZXRhYmxlLXVpLWRheS1jb2x1bW5cIlxuICA+XG4gICAgPGRpdiBjbGFzcz1cInRpbWV0YWJsZS11aS1kYXktY29sdW1uLWxlc3NvblwiPlxuICAgICAgPGRpdiBjbGFzcz1cInRpbWV0YWJsZS11aS1kYXktbmFtZVwiPlxuICAgICAgICB7eyBkYXkgfCB0cmFuc2xhdGUgfX1cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdlxuICAgICAgICBjbGFzcz1cInRpbWV0YWJsZS11aS1kYXktbGVzc29uLWl0ZW0gdGltZXRhYmxlLXVpLWRheS1sZXNzb24taXRlbS12YWx1ZVwiXG4gICAgICAgICpuZ0Zvcj1cImxldCBzbG90TnVtIG9mIGRheUxlc3Npb25TbG90c1wiXG4gICAgICA+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBkbmREcm9wem9uZVxuICAgICAgICAgIFtjbGFzcy50YmwtZWRpdGluZy1tb2RlXT1cImlzRW5hYmxlQWRqdXN0TW9kZVwiXG4gICAgICAgICAgKGRuZERyb3ApPVwib25Ecm9wKCRldmVudCwgZGF5LCBzbG90TnVtICsgMSwgdGltZVNoaWZ0KVwiXG4gICAgICAgICAgW25nYlBvcG92ZXJdPVwicG9wQ29udGVudFwiXG4gICAgICAgICAgW2F1dG9DbG9zZV09XCInb3V0c2lkZSdcIlxuICAgICAgICAgIHRyaWdnZXJzPVwibWFudWFsXCJcbiAgICAgICAgICAjcD1cIm5nYlBvcG92ZXJcIlxuICAgICAgICAgIHBsYWNlbWVudD1cImF1dG9cIlxuICAgICAgICAgIGNsYXNzPVwidGltZXRhYmxlLXVpLWNlbGwtY29udGFpbmVyXCJcbiAgICAgICAgICBbY2xhc3MuZW1wdHktbGVzc2lvbl09XCJcbiAgICAgICAgICAgICFnZXRMZXNzb25CeU9yZGVyKGRheSwgc2xvdE51bSArIDEsIHRpbWVTaGlmdCk/Lmxlbmd0aFxuICAgICAgICAgIFwiXG4gICAgICAgICAgW2NsYXNzLmlzLWRpc2FibGVkXT1cIiFnZXRTbG90KGRheSwgc2xvdE51bSArIDEpPy5lbmFibGVkXCJcbiAgICAgICAgICAoY2xpY2spPVwib25DZWxsQ2xpY2socCwgZGF5LCBzbG90TnVtICsgMSwgdGltZVNoaWZ0KVwiXG4gICAgICAgID5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZG5kLWRyb3B6b25lLXNsb3RcIiBkbmRQbGFjZWhvbGRlclJlZj48L2Rpdj5cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAqbmdGb3I9XCJsZXQgbGVzc29uIG9mIGdldExlc3NvbkJ5T3JkZXIoZGF5LCBzbG90TnVtICsgMSwgdGltZVNoaWZ0KVwiXG4gICAgICAgICAgICBjbGFzcz1cInRpbWV0YWJsZS11aS1kYXktbGVzc29uLWl0ZW1fX2l0ZW1cIlxuICAgICAgICAgICAgW2RuZERyYWdnYWJsZV09XCJsZXNzb25cIlxuICAgICAgICAgICAgW2RuZERpc2FibGVJZl09XCJkcmFnZ2FibGUuZGlzYWJsZVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPGg0Pnt7IGxlc3Nvbj8uZGV0YWlscz8ubWFqb3IubmFtZSB9fTwvaDQ+XG4gICAgICAgICAgICAgIDxwXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJzdWItdGV4dC1vbmVcIlxuICAgICAgICAgICAgICAgIChjbGljayk9XCJvbkNsaWNrVHV0b3JOYW1lKGxlc3Nvbi5kZXRhaWxzLnR1dG9yKVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwidHlwZSA9PT0gJ1RVVE9SJ1wiPnt7XG4gICAgICAgICAgICAgICAgICBsZXNzb24/LmRldGFpbHM/LmNsYXp6Lm5hbWVcbiAgICAgICAgICAgICAgICB9fTwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJ0eXBlID09PSAnQ0xBU1MnXCI+e3tcbiAgICAgICAgICAgICAgICAgIGxlc3Nvbj8uZGV0YWlscz8udHV0b3IubmFtZVxuICAgICAgICAgICAgICAgIH19PC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbjwvZGl2PlxuPG5nLXRlbXBsYXRlICNwb3BDb250ZW50PlxuICA8ZGl2IGNsYXNzPVwic2NoZWR1bGUtcG9wLWNvbnRlbnRcIiAqbmdJZj1cIm1vZGUgPT0gTU9ERS5ORVdcIj5cbiAgICA8ZGl2IGNsYXNzPVwibWItMVwiPlxuICAgICAgPGRpdiBjbGFzcz1cInNjaGVkdWxlLXBvcC1jb250ZW50LWhlYWRlclwiPlxuICAgICAgICA8c3Bhbj5UaMOqbSB0aeG6v3QgbeG7m2k8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJzY2hlZHVsZS1wb3AtY29udGVudC1saW5lIG1iLTJcIj48L2Rpdj5cbiAgICAgIDxmb3JtIFtmb3JtR3JvdXBdPVwiZm9ybVwiIGNsYXNzPVwiZm9ybVwiIChuZ1N1Ym1pdCk9XCJjcmVhdGVOZXdMZXNzaW9uKClcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJyZXF1aXJlZFwiPnt7IFwibWFqb3IubWFqb3JcIiB8IHRyYW5zbGF0ZSB9fTwvbGFiZWw+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZC1ibG9ja1wiPlxuICAgICAgICAgICAgPG5nLXNlbGVjdDJcbiAgICAgICAgICAgICAgZm9ybUNvbnRyb2xOYW1lPVwibWFqb3JDb2RlXCJcbiAgICAgICAgICAgICAgY2xhc3M9XCJ3LTEwMFwiXG4gICAgICAgICAgICAgIHdpZHRoPVwiMTAwJVwiXG4gICAgICAgICAgICAgICh2YWx1ZUNoYW5nZWQpPVwib25TZWxlY3RUZWFjaE1hbmFnZW1lbnQoJGV2ZW50KVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCItMVwiPnt7IFwicGxlYXNlU2VsZWN0XCIgfCB0cmFuc2xhdGUgfX08L29wdGlvbj5cbiAgICAgICAgICAgICAgPG9wdGlvblxuICAgICAgICAgICAgICAgICpuZ0Zvcj1cImxldCBpdGVtIG9mIG1ham9yc1RyYW5zY3JpcHRcIlxuICAgICAgICAgICAgICAgIHZhbHVlPVwie3sgaXRlbS5jb2RlIH19XCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHt7IGl0ZW0udGl0bGUgfX1cbiAgICAgICAgICAgICAgPC9vcHRpb24+XG4gICAgICAgICAgICA8L25nLXNlbGVjdDI+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCIgKm5nSWY9XCJpc0Fzc2lnbmVkVHV0b3JcIj5cbiAgICAgICAgICA8cCBjbGFzcz1cInN1Yi10ZXh0LW9uZVwiPlxuICAgICAgICAgICAgR2nDoW8gdmnDqm46IHt7IGFjdGl2ZVRlYWNoTWFuYWdlbWVudD8udGVhY2hNYW5hZ2VtZW50Py50dXRvck5hbWUgfX1cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxwIGNsYXNzPVwidW5hc3NpZ25lZF90dXRvclwiICpuZ0lmPVwiaXNVbkFzc2lnbmVkVHV0b3JcIj5cbiAgICAgICAgICBHacOhbyB2acOqbjogQ2jGsGEgxJHGsOG7o2MgcGjDom4gY8O0bmcuXG4gICAgICAgIDwvcD5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uc1wiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxuICAgICAgICAgICAgW2Rpc2FibGVkXT1cIiFpc0Fzc2lnbmVkVHV0b3JcIlxuICAgICAgICAgICAgY29sb3I9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgIGNsYXNzPVwiZWRpdC1idXR0b25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHt7IFwic2F2ZUNoYW5nZVwiIHwgdHJhbnNsYXRlIH19XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY29sb3I9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgKGNsaWNrKT1cImNsb3NlRm9ybSgpXCJcbiAgICAgICAgICAgIGNsYXNzPVwiYWN0aW9uLWJ0blwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge3sgXCJjYW5jZWxcIiB8IHRyYW5zbGF0ZSB9fVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZm9ybT5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG5cbiAgPG5nLWNvbnRhaW5lciAqbmdJZj1cIm1vZGUgPT0gTU9ERS5FRElUXCI+XG4gICAgPGJ1dHRvblxuICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAoY2xpY2spPVwicmVtb3ZlTGVzc2lvbkZyb21DZWxsKClcIlxuICAgICAgY29sb3I9XCJkYW5nZXJcIlxuICAgICAgY2xhc3M9XCJlZGl0LWJ1dHRvblwiXG4gICAgPlxuICAgICAgWG/DoSB0aeG6v3RcbiAgICA8L2J1dHRvbj5cbiAgPC9uZy1jb250YWluZXI+XG48L25nLXRlbXBsYXRlPlxuXG4iXX0=