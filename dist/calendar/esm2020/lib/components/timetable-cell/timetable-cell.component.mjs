import { Component, EventEmitter, Input, Output, ViewChild, } from '@angular/core';
import { UserType } from '../../constants';
import * as i0 from "@angular/core";
import * as i1 from "@angular/router";
import * as i2 from "../../calendar.helper";
import * as i3 from "@angular/common";
import * as i4 from "@ng-bootstrap/ng-bootstrap";
import * as i5 from "@ngx-translate/core";
import * as i6 from "../../truncate.pipe";
export class TadaNgxCalendarCellComponent {
    constructor(router, tadaNgxCalendarHelper) {
        this.router = router;
        this.tadaNgxCalendarHelper = tadaNgxCalendarHelper;
        this.userTypeEnum = UserType;
        this.assignments = [];
        this.onChangeOnOffSwitch = new EventEmitter();
        this.scheduleOpened = new EventEmitter();
    }
    ngOnInit() { }
    ngOnChanges(changes) { }
    onTitleClick() {
        this.scheduleOpened.emit(this.schedule);
    }
    createAssignment() { }
    getShortDesc(data) {
        return this.tadaNgxCalendarHelper.truncateWords(data, 15);
    }
    getShortTitle(data) {
        return this.tadaNgxCalendarHelper.truncateWords(data, 10);
    }
    onClickToJoinClassOnline() {
        if (!!this.schedule?.details?.online && !!this.schedule?.details?.joinUrl) {
            window.open(this.schedule?.details?.joinUrl, '_blank');
        }
    }
    async changeOnOffSwitch($event) {
        this.onChangeOnOffSwitch.emit($event);
    }
    onClickAssignment(item) {
    }
}
TadaNgxCalendarCellComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.9", ngImport: i0, type: TadaNgxCalendarCellComponent, deps: [{ token: i1.Router }, { token: i2.TadaNgxCalendarHelper }], target: i0.ɵɵFactoryTarget.Component });
TadaNgxCalendarCellComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.9", type: TadaNgxCalendarCellComponent, selector: "timetable-cell", inputs: { schedule: "schedule", lessionUnit: "lessionUnit", userType: "userType", isBOSide: "isBOSide" }, outputs: { onChangeOnOffSwitch: "onChangeOnOffSwitch", scheduleOpened: "scheduleOpened" }, viewQueries: [{ propertyName: "switchOffline", first: true, predicate: ["switchOffline"], descendants: true }], usesOnChanges: true, ngImport: i0, template: "<div\n  class=\"schedule-item-title\"\n  [ngbPopover]=\"popContent\"\n  [autoClose]=\"'outside'\"\n  triggers=\"manual\"\n  #p=\"ngbPopover\"\n  (click)=\"p.open()\"\n  (click)=\"onTitleClick()\"\n  placement=\"bottom-left\"\n>\n  <span *ngIf=\"!!schedule?.details?.online\">\n    <svg width=\"13\" height=\"10\" viewBox=\"0 0 13 10\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path d=\"M11.8625 1.75625L9.5 3.0875V1.25C9.5 1.05109 9.42098 0.860322 9.28033 0.71967C9.13968 0.579018 8.94891 0.5 8.75 0.5H2C1.60218 0.5 1.22064 0.658035 0.93934 0.93934C0.658035 1.22064 0.5 1.60218 0.5 2V8C0.5 8.39782 0.658035 8.77936 0.93934 9.06066C1.22064 9.34196 1.60218 9.5 2 9.5H8.75C8.94891 9.5 9.13968 9.42098 9.28033 9.28033C9.42098 9.13968 9.5 8.94891 9.5 8.75V6.905L11.8625 8.23625C11.9231 8.27585 11.9931 8.29881 12.0654 8.3028C12.1377 8.3068 12.2097 8.29169 12.2743 8.25901C12.3389 8.22633 12.3938 8.17722 12.4334 8.11661C12.473 8.05601 12.496 7.98604 12.5 7.91375V2.075C12.4954 2.00303 12.472 1.93353 12.4321 1.87343C12.3922 1.81333 12.3373 1.76473 12.2728 1.73248C12.2083 1.70023 12.1365 1.68545 12.0645 1.68962C11.9925 1.69379 11.9228 1.71677 11.8625 1.75625Z\" fill=\"#0E77D2\"/>\n      </svg>\n  </span>\n  <span  class=\"schedule-title\">\n    {{ schedule?.title + (schedule?.details?.unitOrder ? \": \" + (\"streamingLession\" | translate: {unitNo: schedule?.details?.unitOrder }) : \"\") | truncate: [50] }}\n  </span>\n</div>\n\n<ng-template #popContent>\n  <div class=\"schedule-pop-content\">\n    <div class=\"d-block\" *ngIf=\"userType === userTypeEnum.TUTOR\">\n      <div class=\"mb-1\">\n\n        <div class=\"schedule-pop-content-header\" *ngIf=\"lessionUnit?.unitNo && lessionUnit?.name\">\n          <span>{{ \"streamingTimeTable\" | translate: {unitNo: lessionUnit.unitNo || \"\", unitName: lessionUnit.name}  }}</span>\n        </div>\n        <div class=\"schedule-pop-content-header\" *ngIf=\"!lessionUnit?.unitNo || !lessionUnit?.name\">\n          <span>{{ \"streamingTimeTable\" | translate: {unitNo: schedule?.details?.unitOrder || \"\", unitName: schedule?.details?.majorName} }}</span>\n        </div>\n\n        <div class=\"schedule-pop-content-line\"></div>\n        <div class=\"d-flex mb-0 justify-content-between align-items-center\">\n          <span\n            class=\"class-online-label\"\n            [class.is-on]=\"\n              !!schedule?.details?.online || !!switchOffline.checked\n            \"\n            (click)=\"onClickToJoinClassOnline()\"\n          >\n            {{ 'joinClassOnlineNow' | translate }}\n          </span>\n          <span class=\"ml-2\" [hidden]=\"isBOSide\">\n            <span class=\"custom-control custom-switch\">\n              <input\n                #switchOffline\n                ngModel\n                [checked]=\"!!schedule?.details?.online ? true : null\"\n                type=\"checkbox\"\n                class=\"custom-control-input\"\n                id=\"switchOffline\"\n                (change)=\"changeOnOffSwitch($event)\"\n              />\n              <label class=\"custom-control-label\" for=\"switchOffline\"></label>\n            </span>\n          </span>\n        </div>\n      </div>\n\n      <div class=\"schedule-pop-content-links\" *ngIf=\"!isBOSide\">\n        <span (click)=\"createAssignment()\">T\u1EA1o b\u00E0i t\u1EADp</span>\n        <span>S\u1ED5 \u0111\u1EA7u b\u00E0i</span>\n      </div>\n    </div>\n\n    <div\n      class=\"d-flex mb-0 justify-content-between align-items-center\"\n      *ngIf=\"userType === userTypeEnum.STUDENT && !isBOSide\"\n    >\n      <span\n        class=\"class-online-label\"\n        [class.is-on]=\"!!schedule?.details?.online\"\n        (click)=\"onClickToJoinClassOnline()\"\n      >\n        {{ 'studentJoinClassOnlineNow' | translate }}\n      </span>\n    </div>\n\n\n    <ul class=\"list-assignments\" *ngIf=\"assignments?.length && !isBOSide\" >\n        <li *ngFor=\"let item of assignments\" (click)=\"onClickAssignment(item)\">\n            <h4>{{item.title}}</h4>\n        </li>\n    </ul>\n\n  </div>\n</ng-template>\n", styles: [".schedule-item-title{background:#e3f2ff;border-radius:4px;padding:9px 20px;font-weight:600;font-size:12px;line-height:22px;cursor:pointer;color:#4e4852;display:flex;width:100%;gap:5px;border:1px solid transparent}.schedule-item-title mat-icon{width:14px}.schedule-item-title span{display:block;white-space:nowrap}.schedule-item-title:hover{border:1px solid #1e88e5;background:#e3f2ff}.schedule-pop-content{width:301px;padding:6px}.schedule-pop-content h4{font-weight:700;font-size:12px;margin-bottom:5px;line-height:22px;color:#000;padding-bottom:8px;border-bottom:1px solid #eaeaea}.schedule-pop-content .schedule-pop-content-header{border-bottom:1px solid #EAEAEA;margin-bottom:5px;padding-bottom:3px}.schedule-pop-content .schedule-pop-content-header span{font-style:normal;font-weight:700;font-size:12px;line-height:14px;letter-spacing:.01em;color:#000}.schedule-pop-content .schedule-pop-content-links{display:flex;flex-direction:row;gap:16px}.schedule-pop-content .schedule-pop-content-links span{font-weight:700;white-space:nowrap;font-size:12px;cursor:pointer;line-height:22px;text-decoration-line:underline;color:#1e88e5}.schedule-pop-content .class-online-label{font-weight:700;font-size:12px;line-height:22px;color:#999;text-decoration-line:underline}.schedule-pop-content .class-online-label.is-on{cursor:pointer;color:#1e88e5!important}::ng-deep .popover{max-width:498px;background:#ffffff;border:none;box-shadow:0 8px 12px #091e4226,0 0 1px #091e424f;border-radius:5px}.list-assignments{padding:0;margin:0;margin-top:1.5rem}.list-assignments li{padding:10px 8px;border:1px solid #b4b7c6;list-style:none;margin-bottom:10px;cursor:pointer}.list-assignments li:hover{border:1px solid #000000}.list-assignments li:hover h4{color:#000}.list-assignments li h4{font-weight:700;font-size:12px;margin:0;line-height:16px;color:#26292c}\n"], dependencies: [{ kind: "directive", type: i3.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i3.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i4.NgbPopover, selector: "[ngbPopover]", inputs: ["animation", "autoClose", "ngbPopover", "popoverTitle", "placement", "popperOptions", "triggers", "positionTarget", "container", "disablePopover", "popoverClass", "openDelay", "closeDelay"], outputs: ["shown", "hidden"], exportAs: ["ngbPopover"] }, { kind: "pipe", type: i5.TranslatePipe, name: "translate" }, { kind: "pipe", type: i6.TruncatePipe, name: "truncate" }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.9", ngImport: i0, type: TadaNgxCalendarCellComponent, decorators: [{
            type: Component,
            args: [{ selector: 'timetable-cell', template: "<div\n  class=\"schedule-item-title\"\n  [ngbPopover]=\"popContent\"\n  [autoClose]=\"'outside'\"\n  triggers=\"manual\"\n  #p=\"ngbPopover\"\n  (click)=\"p.open()\"\n  (click)=\"onTitleClick()\"\n  placement=\"bottom-left\"\n>\n  <span *ngIf=\"!!schedule?.details?.online\">\n    <svg width=\"13\" height=\"10\" viewBox=\"0 0 13 10\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path d=\"M11.8625 1.75625L9.5 3.0875V1.25C9.5 1.05109 9.42098 0.860322 9.28033 0.71967C9.13968 0.579018 8.94891 0.5 8.75 0.5H2C1.60218 0.5 1.22064 0.658035 0.93934 0.93934C0.658035 1.22064 0.5 1.60218 0.5 2V8C0.5 8.39782 0.658035 8.77936 0.93934 9.06066C1.22064 9.34196 1.60218 9.5 2 9.5H8.75C8.94891 9.5 9.13968 9.42098 9.28033 9.28033C9.42098 9.13968 9.5 8.94891 9.5 8.75V6.905L11.8625 8.23625C11.9231 8.27585 11.9931 8.29881 12.0654 8.3028C12.1377 8.3068 12.2097 8.29169 12.2743 8.25901C12.3389 8.22633 12.3938 8.17722 12.4334 8.11661C12.473 8.05601 12.496 7.98604 12.5 7.91375V2.075C12.4954 2.00303 12.472 1.93353 12.4321 1.87343C12.3922 1.81333 12.3373 1.76473 12.2728 1.73248C12.2083 1.70023 12.1365 1.68545 12.0645 1.68962C11.9925 1.69379 11.9228 1.71677 11.8625 1.75625Z\" fill=\"#0E77D2\"/>\n      </svg>\n  </span>\n  <span  class=\"schedule-title\">\n    {{ schedule?.title + (schedule?.details?.unitOrder ? \": \" + (\"streamingLession\" | translate: {unitNo: schedule?.details?.unitOrder }) : \"\") | truncate: [50] }}\n  </span>\n</div>\n\n<ng-template #popContent>\n  <div class=\"schedule-pop-content\">\n    <div class=\"d-block\" *ngIf=\"userType === userTypeEnum.TUTOR\">\n      <div class=\"mb-1\">\n\n        <div class=\"schedule-pop-content-header\" *ngIf=\"lessionUnit?.unitNo && lessionUnit?.name\">\n          <span>{{ \"streamingTimeTable\" | translate: {unitNo: lessionUnit.unitNo || \"\", unitName: lessionUnit.name}  }}</span>\n        </div>\n        <div class=\"schedule-pop-content-header\" *ngIf=\"!lessionUnit?.unitNo || !lessionUnit?.name\">\n          <span>{{ \"streamingTimeTable\" | translate: {unitNo: schedule?.details?.unitOrder || \"\", unitName: schedule?.details?.majorName} }}</span>\n        </div>\n\n        <div class=\"schedule-pop-content-line\"></div>\n        <div class=\"d-flex mb-0 justify-content-between align-items-center\">\n          <span\n            class=\"class-online-label\"\n            [class.is-on]=\"\n              !!schedule?.details?.online || !!switchOffline.checked\n            \"\n            (click)=\"onClickToJoinClassOnline()\"\n          >\n            {{ 'joinClassOnlineNow' | translate }}\n          </span>\n          <span class=\"ml-2\" [hidden]=\"isBOSide\">\n            <span class=\"custom-control custom-switch\">\n              <input\n                #switchOffline\n                ngModel\n                [checked]=\"!!schedule?.details?.online ? true : null\"\n                type=\"checkbox\"\n                class=\"custom-control-input\"\n                id=\"switchOffline\"\n                (change)=\"changeOnOffSwitch($event)\"\n              />\n              <label class=\"custom-control-label\" for=\"switchOffline\"></label>\n            </span>\n          </span>\n        </div>\n      </div>\n\n      <div class=\"schedule-pop-content-links\" *ngIf=\"!isBOSide\">\n        <span (click)=\"createAssignment()\">T\u1EA1o b\u00E0i t\u1EADp</span>\n        <span>S\u1ED5 \u0111\u1EA7u b\u00E0i</span>\n      </div>\n    </div>\n\n    <div\n      class=\"d-flex mb-0 justify-content-between align-items-center\"\n      *ngIf=\"userType === userTypeEnum.STUDENT && !isBOSide\"\n    >\n      <span\n        class=\"class-online-label\"\n        [class.is-on]=\"!!schedule?.details?.online\"\n        (click)=\"onClickToJoinClassOnline()\"\n      >\n        {{ 'studentJoinClassOnlineNow' | translate }}\n      </span>\n    </div>\n\n\n    <ul class=\"list-assignments\" *ngIf=\"assignments?.length && !isBOSide\" >\n        <li *ngFor=\"let item of assignments\" (click)=\"onClickAssignment(item)\">\n            <h4>{{item.title}}</h4>\n        </li>\n    </ul>\n\n  </div>\n</ng-template>\n", styles: [".schedule-item-title{background:#e3f2ff;border-radius:4px;padding:9px 20px;font-weight:600;font-size:12px;line-height:22px;cursor:pointer;color:#4e4852;display:flex;width:100%;gap:5px;border:1px solid transparent}.schedule-item-title mat-icon{width:14px}.schedule-item-title span{display:block;white-space:nowrap}.schedule-item-title:hover{border:1px solid #1e88e5;background:#e3f2ff}.schedule-pop-content{width:301px;padding:6px}.schedule-pop-content h4{font-weight:700;font-size:12px;margin-bottom:5px;line-height:22px;color:#000;padding-bottom:8px;border-bottom:1px solid #eaeaea}.schedule-pop-content .schedule-pop-content-header{border-bottom:1px solid #EAEAEA;margin-bottom:5px;padding-bottom:3px}.schedule-pop-content .schedule-pop-content-header span{font-style:normal;font-weight:700;font-size:12px;line-height:14px;letter-spacing:.01em;color:#000}.schedule-pop-content .schedule-pop-content-links{display:flex;flex-direction:row;gap:16px}.schedule-pop-content .schedule-pop-content-links span{font-weight:700;white-space:nowrap;font-size:12px;cursor:pointer;line-height:22px;text-decoration-line:underline;color:#1e88e5}.schedule-pop-content .class-online-label{font-weight:700;font-size:12px;line-height:22px;color:#999;text-decoration-line:underline}.schedule-pop-content .class-online-label.is-on{cursor:pointer;color:#1e88e5!important}::ng-deep .popover{max-width:498px;background:#ffffff;border:none;box-shadow:0 8px 12px #091e4226,0 0 1px #091e424f;border-radius:5px}.list-assignments{padding:0;margin:0;margin-top:1.5rem}.list-assignments li{padding:10px 8px;border:1px solid #b4b7c6;list-style:none;margin-bottom:10px;cursor:pointer}.list-assignments li:hover{border:1px solid #000000}.list-assignments li:hover h4{color:#000}.list-assignments li h4{font-weight:700;font-size:12px;margin:0;line-height:16px;color:#26292c}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.Router }, { type: i2.TadaNgxCalendarHelper }]; }, propDecorators: { schedule: [{
                type: Input
            }], switchOffline: [{
                type: ViewChild,
                args: ['switchOffline']
            }], lessionUnit: [{
                type: Input
            }], userType: [{
                type: Input
            }], isBOSide: [{
                type: Input
            }], onChangeOnOffSwitch: [{
                type: Output
            }], scheduleOpened: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGltZXRhYmxlLWNlbGwuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvY2FsZW5kYXIvc3JjL2xpYi9jb21wb25lbnRzL3RpbWV0YWJsZS1jZWxsL3RpbWV0YWJsZS1jZWxsLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2NhbGVuZGFyL3NyYy9saWIvY29tcG9uZW50cy90aW1ldGFibGUtY2VsbC90aW1ldGFibGUtY2VsbC5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBRUwsU0FBUyxFQUVULFlBQVksRUFDWixLQUFLLEVBR0wsTUFBTSxFQUVOLFNBQVMsR0FDVixNQUFNLGVBQWUsQ0FBQztBQUl2QixPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0saUJBQWlCLENBQUM7Ozs7Ozs7O0FBTzNDLE1BQU0sT0FBTyw0QkFBNEI7SUFVdkMsWUFDVSxNQUFjLEVBQ2QscUJBQTRDO1FBRDVDLFdBQU0sR0FBTixNQUFNLENBQVE7UUFDZCwwQkFBcUIsR0FBckIscUJBQXFCLENBQXVCO1FBVHRELGlCQUFZLEdBQUcsUUFBUSxDQUFDO1FBQ3hCLGdCQUFXLEdBQVUsRUFBRSxDQUFDO1FBSWQsd0JBQW1CLEdBQUcsSUFBSSxZQUFZLEVBQU8sQ0FBQztRQUM5QyxtQkFBYyxHQUFHLElBQUksWUFBWSxFQUFPLENBQUM7SUFLbkQsQ0FBQztJQUVELFFBQVEsS0FBVSxDQUFDO0lBRW5CLFdBQVcsQ0FBQyxPQUFzQixJQUFTLENBQUM7SUFFNUMsWUFBWTtRQUNWLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUMxQyxDQUFDO0lBRUQsZ0JBQWdCLEtBQUksQ0FBQztJQUVyQixZQUFZLENBQUMsSUFBWTtRQUN2QixPQUFPLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxhQUFhLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQzVELENBQUM7SUFFRCxhQUFhLENBQUMsSUFBWTtRQUN4QixPQUFPLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxhQUFhLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQzVELENBQUM7SUFFRCx3QkFBd0I7UUFDdEIsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxPQUFPLEVBQUUsTUFBTSxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUU7WUFDekUsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsUUFBUSxDQUFDLENBQUM7U0FDeEQ7SUFDSCxDQUFDO0lBRUQsS0FBSyxDQUFDLGlCQUFpQixDQUFDLE1BQVc7UUFDakMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUN4QyxDQUFDO0lBRUQsaUJBQWlCLENBQUMsSUFBUztJQUUzQixDQUFDOzt5SEE5Q1UsNEJBQTRCOzZHQUE1Qiw0QkFBNEIsZ1lDdkJ6Qyx1Z0lBd0ZBOzJGRGpFYSw0QkFBNEI7a0JBTHhDLFNBQVM7K0JBQ0UsZ0JBQWdCO2lJQUtqQixRQUFRO3NCQUFoQixLQUFLO2dCQUNzQixhQUFhO3NCQUF4QyxTQUFTO3VCQUFDLGVBQWU7Z0JBR2pCLFdBQVc7c0JBQW5CLEtBQUs7Z0JBQ0csUUFBUTtzQkFBaEIsS0FBSztnQkFDRyxRQUFRO3NCQUFoQixLQUFLO2dCQUNJLG1CQUFtQjtzQkFBNUIsTUFBTTtnQkFDRyxjQUFjO3NCQUF2QixNQUFNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVHJhbnNsYXRlU2VydmljZSB9IGZyb20gJ0BuZ3gtdHJhbnNsYXRlL2NvcmUnO1xuaW1wb3J0IHtcbiAgQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gIENvbXBvbmVudCxcbiAgRWxlbWVudFJlZixcbiAgRXZlbnRFbWl0dGVyLFxuICBJbnB1dCxcbiAgT25DaGFuZ2VzLFxuICBPbkluaXQsXG4gIE91dHB1dCxcbiAgU2ltcGxlQ2hhbmdlcyxcbiAgVmlld0NoaWxkLFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFJvdXRlciB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5pbXBvcnQgeyBEb21TYW5pdGl6ZXIgfSBmcm9tICdAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyJztcbmltcG9ydCB7IFRhZGFOZ3hDYWxlbmRhckhlbHBlciB9IGZyb20gJy4uLy4uL2NhbGVuZGFyLmhlbHBlcic7XG5pbXBvcnQgeyBVc2VyVHlwZSB9IGZyb20gJy4uLy4uL2NvbnN0YW50cyc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3RpbWV0YWJsZS1jZWxsJyxcbiAgdGVtcGxhdGVVcmw6ICcuL3RpbWV0YWJsZS1jZWxsLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vdGltZXRhYmxlLWNlbGwuY29tcG9uZW50LnNjc3MnXSxcbn0pXG5leHBvcnQgY2xhc3MgVGFkYU5neENhbGVuZGFyQ2VsbENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25DaGFuZ2VzIHtcbiAgQElucHV0KCkgc2NoZWR1bGU6IGFueTtcbiAgQFZpZXdDaGlsZCgnc3dpdGNoT2ZmbGluZScpIHN3aXRjaE9mZmxpbmUhOiBFbGVtZW50UmVmPEhUTUxJbnB1dEVsZW1lbnQ+O1xuICB1c2VyVHlwZUVudW0gPSBVc2VyVHlwZTtcbiAgYXNzaWdubWVudHM6IGFueVtdID0gW107XG4gIEBJbnB1dCgpIGxlc3Npb25Vbml0OiBhbnk7XG4gIEBJbnB1dCgpIHVzZXJUeXBlOiBhbnk7XG4gIEBJbnB1dCgpIGlzQk9TaWRlOiBhbnk7XG4gIEBPdXRwdXQoKSBvbkNoYW5nZU9uT2ZmU3dpdGNoID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIEBPdXRwdXQoKSBzY2hlZHVsZU9wZW5lZCA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHJvdXRlcjogUm91dGVyLFxuICAgIHByaXZhdGUgdGFkYU5neENhbGVuZGFySGVscGVyOiBUYWRhTmd4Q2FsZW5kYXJIZWxwZXJcbiAgKSB7XG4gIH1cblxuICBuZ09uSW5pdCgpOiB2b2lkIHt9XG5cbiAgbmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcyk6IHZvaWQge31cblxuICBvblRpdGxlQ2xpY2soKSB7XG4gICAgdGhpcy5zY2hlZHVsZU9wZW5lZC5lbWl0KHRoaXMuc2NoZWR1bGUpO1xuICB9XG5cbiAgY3JlYXRlQXNzaWdubWVudCgpIHt9XG5cbiAgZ2V0U2hvcnREZXNjKGRhdGE6IHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLnRhZGFOZ3hDYWxlbmRhckhlbHBlci50cnVuY2F0ZVdvcmRzKGRhdGEsIDE1KTtcbiAgfVxuXG4gIGdldFNob3J0VGl0bGUoZGF0YTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHRoaXMudGFkYU5neENhbGVuZGFySGVscGVyLnRydW5jYXRlV29yZHMoZGF0YSwgMTApO1xuICB9XG5cbiAgb25DbGlja1RvSm9pbkNsYXNzT25saW5lKCkge1xuICAgIGlmICghIXRoaXMuc2NoZWR1bGU/LmRldGFpbHM/Lm9ubGluZSAmJiAhIXRoaXMuc2NoZWR1bGU/LmRldGFpbHM/LmpvaW5VcmwpIHtcbiAgICAgIHdpbmRvdy5vcGVuKHRoaXMuc2NoZWR1bGU/LmRldGFpbHM/LmpvaW5VcmwsICdfYmxhbmsnKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBjaGFuZ2VPbk9mZlN3aXRjaCgkZXZlbnQ6IGFueSkge1xuICAgIHRoaXMub25DaGFuZ2VPbk9mZlN3aXRjaC5lbWl0KCRldmVudCk7XG4gIH1cblxuICBvbkNsaWNrQXNzaWdubWVudChpdGVtOiBhbnkpIHtcbiAgICAgIFxuICB9XG59XG4iLCI8ZGl2XG4gIGNsYXNzPVwic2NoZWR1bGUtaXRlbS10aXRsZVwiXG4gIFtuZ2JQb3BvdmVyXT1cInBvcENvbnRlbnRcIlxuICBbYXV0b0Nsb3NlXT1cIidvdXRzaWRlJ1wiXG4gIHRyaWdnZXJzPVwibWFudWFsXCJcbiAgI3A9XCJuZ2JQb3BvdmVyXCJcbiAgKGNsaWNrKT1cInAub3BlbigpXCJcbiAgKGNsaWNrKT1cIm9uVGl0bGVDbGljaygpXCJcbiAgcGxhY2VtZW50PVwiYm90dG9tLWxlZnRcIlxuPlxuICA8c3BhbiAqbmdJZj1cIiEhc2NoZWR1bGU/LmRldGFpbHM/Lm9ubGluZVwiPlxuICAgIDxzdmcgd2lkdGg9XCIxM1wiIGhlaWdodD1cIjEwXCIgdmlld0JveD1cIjAgMCAxMyAxMFwiIGZpbGw9XCJub25lXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxuICAgICAgPHBhdGggZD1cIk0xMS44NjI1IDEuNzU2MjVMOS41IDMuMDg3NVYxLjI1QzkuNSAxLjA1MTA5IDkuNDIwOTggMC44NjAzMjIgOS4yODAzMyAwLjcxOTY3QzkuMTM5NjggMC41NzkwMTggOC45NDg5MSAwLjUgOC43NSAwLjVIMkMxLjYwMjE4IDAuNSAxLjIyMDY0IDAuNjU4MDM1IDAuOTM5MzQgMC45MzkzNEMwLjY1ODAzNSAxLjIyMDY0IDAuNSAxLjYwMjE4IDAuNSAyVjhDMC41IDguMzk3ODIgMC42NTgwMzUgOC43NzkzNiAwLjkzOTM0IDkuMDYwNjZDMS4yMjA2NCA5LjM0MTk2IDEuNjAyMTggOS41IDIgOS41SDguNzVDOC45NDg5MSA5LjUgOS4xMzk2OCA5LjQyMDk4IDkuMjgwMzMgOS4yODAzM0M5LjQyMDk4IDkuMTM5NjggOS41IDguOTQ4OTEgOS41IDguNzVWNi45MDVMMTEuODYyNSA4LjIzNjI1QzExLjkyMzEgOC4yNzU4NSAxMS45OTMxIDguMjk4ODEgMTIuMDY1NCA4LjMwMjhDMTIuMTM3NyA4LjMwNjggMTIuMjA5NyA4LjI5MTY5IDEyLjI3NDMgOC4yNTkwMUMxMi4zMzg5IDguMjI2MzMgMTIuMzkzOCA4LjE3NzIyIDEyLjQzMzQgOC4xMTY2MUMxMi40NzMgOC4wNTYwMSAxMi40OTYgNy45ODYwNCAxMi41IDcuOTEzNzVWMi4wNzVDMTIuNDk1NCAyLjAwMzAzIDEyLjQ3MiAxLjkzMzUzIDEyLjQzMjEgMS44NzM0M0MxMi4zOTIyIDEuODEzMzMgMTIuMzM3MyAxLjc2NDczIDEyLjI3MjggMS43MzI0OEMxMi4yMDgzIDEuNzAwMjMgMTIuMTM2NSAxLjY4NTQ1IDEyLjA2NDUgMS42ODk2MkMxMS45OTI1IDEuNjkzNzkgMTEuOTIyOCAxLjcxNjc3IDExLjg2MjUgMS43NTYyNVpcIiBmaWxsPVwiIzBFNzdEMlwiLz5cbiAgICAgIDwvc3ZnPlxuICA8L3NwYW4+XG4gIDxzcGFuICBjbGFzcz1cInNjaGVkdWxlLXRpdGxlXCI+XG4gICAge3sgc2NoZWR1bGU/LnRpdGxlICsgKHNjaGVkdWxlPy5kZXRhaWxzPy51bml0T3JkZXIgPyBcIjogXCIgKyAoXCJzdHJlYW1pbmdMZXNzaW9uXCIgfCB0cmFuc2xhdGU6IHt1bml0Tm86IHNjaGVkdWxlPy5kZXRhaWxzPy51bml0T3JkZXIgfSkgOiBcIlwiKSB8IHRydW5jYXRlOiBbNTBdIH19XG4gIDwvc3Bhbj5cbjwvZGl2PlxuXG48bmctdGVtcGxhdGUgI3BvcENvbnRlbnQ+XG4gIDxkaXYgY2xhc3M9XCJzY2hlZHVsZS1wb3AtY29udGVudFwiPlxuICAgIDxkaXYgY2xhc3M9XCJkLWJsb2NrXCIgKm5nSWY9XCJ1c2VyVHlwZSA9PT0gdXNlclR5cGVFbnVtLlRVVE9SXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwibWItMVwiPlxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJzY2hlZHVsZS1wb3AtY29udGVudC1oZWFkZXJcIiAqbmdJZj1cImxlc3Npb25Vbml0Py51bml0Tm8gJiYgbGVzc2lvblVuaXQ/Lm5hbWVcIj5cbiAgICAgICAgICA8c3Bhbj57eyBcInN0cmVhbWluZ1RpbWVUYWJsZVwiIHwgdHJhbnNsYXRlOiB7dW5pdE5vOiBsZXNzaW9uVW5pdC51bml0Tm8gfHwgXCJcIiwgdW5pdE5hbWU6IGxlc3Npb25Vbml0Lm5hbWV9ICB9fTwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzY2hlZHVsZS1wb3AtY29udGVudC1oZWFkZXJcIiAqbmdJZj1cIiFsZXNzaW9uVW5pdD8udW5pdE5vIHx8ICFsZXNzaW9uVW5pdD8ubmFtZVwiPlxuICAgICAgICAgIDxzcGFuPnt7IFwic3RyZWFtaW5nVGltZVRhYmxlXCIgfCB0cmFuc2xhdGU6IHt1bml0Tm86IHNjaGVkdWxlPy5kZXRhaWxzPy51bml0T3JkZXIgfHwgXCJcIiwgdW5pdE5hbWU6IHNjaGVkdWxlPy5kZXRhaWxzPy5tYWpvck5hbWV9IH19PC9zcGFuPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwic2NoZWR1bGUtcG9wLWNvbnRlbnQtbGluZVwiPjwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZC1mbGV4IG1iLTAganVzdGlmeS1jb250ZW50LWJldHdlZW4gYWxpZ24taXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgIGNsYXNzPVwiY2xhc3Mtb25saW5lLWxhYmVsXCJcbiAgICAgICAgICAgIFtjbGFzcy5pcy1vbl09XCJcbiAgICAgICAgICAgICAgISFzY2hlZHVsZT8uZGV0YWlscz8ub25saW5lIHx8ICEhc3dpdGNoT2ZmbGluZS5jaGVja2VkXG4gICAgICAgICAgICBcIlxuICAgICAgICAgICAgKGNsaWNrKT1cIm9uQ2xpY2tUb0pvaW5DbGFzc09ubGluZSgpXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7eyAnam9pbkNsYXNzT25saW5lTm93JyB8IHRyYW5zbGF0ZSB9fVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1sLTJcIiBbaGlkZGVuXT1cImlzQk9TaWRlXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImN1c3RvbS1jb250cm9sIGN1c3RvbS1zd2l0Y2hcIj5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgI3N3aXRjaE9mZmxpbmVcbiAgICAgICAgICAgICAgICBuZ01vZGVsXG4gICAgICAgICAgICAgICAgW2NoZWNrZWRdPVwiISFzY2hlZHVsZT8uZGV0YWlscz8ub25saW5lID8gdHJ1ZSA6IG51bGxcIlxuICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJjdXN0b20tY29udHJvbC1pbnB1dFwiXG4gICAgICAgICAgICAgICAgaWQ9XCJzd2l0Y2hPZmZsaW5lXCJcbiAgICAgICAgICAgICAgICAoY2hhbmdlKT1cImNoYW5nZU9uT2ZmU3dpdGNoKCRldmVudClcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJjdXN0b20tY29udHJvbC1sYWJlbFwiIGZvcj1cInN3aXRjaE9mZmxpbmVcIj48L2xhYmVsPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzcz1cInNjaGVkdWxlLXBvcC1jb250ZW50LWxpbmtzXCIgKm5nSWY9XCIhaXNCT1NpZGVcIj5cbiAgICAgICAgPHNwYW4gKGNsaWNrKT1cImNyZWF0ZUFzc2lnbm1lbnQoKVwiPlThuqFvIGLDoGkgdOG6rXA8L3NwYW4+XG4gICAgICAgIDxzcGFuPlPhu5UgxJHhuqd1IGLDoGk8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cblxuICAgIDxkaXZcbiAgICAgIGNsYXNzPVwiZC1mbGV4IG1iLTAganVzdGlmeS1jb250ZW50LWJldHdlZW4gYWxpZ24taXRlbXMtY2VudGVyXCJcbiAgICAgICpuZ0lmPVwidXNlclR5cGUgPT09IHVzZXJUeXBlRW51bS5TVFVERU5UICYmICFpc0JPU2lkZVwiXG4gICAgPlxuICAgICAgPHNwYW5cbiAgICAgICAgY2xhc3M9XCJjbGFzcy1vbmxpbmUtbGFiZWxcIlxuICAgICAgICBbY2xhc3MuaXMtb25dPVwiISFzY2hlZHVsZT8uZGV0YWlscz8ub25saW5lXCJcbiAgICAgICAgKGNsaWNrKT1cIm9uQ2xpY2tUb0pvaW5DbGFzc09ubGluZSgpXCJcbiAgICAgID5cbiAgICAgICAge3sgJ3N0dWRlbnRKb2luQ2xhc3NPbmxpbmVOb3cnIHwgdHJhbnNsYXRlIH19XG4gICAgICA8L3NwYW4+XG4gICAgPC9kaXY+XG5cblxuICAgIDx1bCBjbGFzcz1cImxpc3QtYXNzaWdubWVudHNcIiAqbmdJZj1cImFzc2lnbm1lbnRzPy5sZW5ndGggJiYgIWlzQk9TaWRlXCIgPlxuICAgICAgICA8bGkgKm5nRm9yPVwibGV0IGl0ZW0gb2YgYXNzaWdubWVudHNcIiAoY2xpY2spPVwib25DbGlja0Fzc2lnbm1lbnQoaXRlbSlcIj5cbiAgICAgICAgICAgIDxoND57e2l0ZW0udGl0bGV9fTwvaDQ+XG4gICAgICAgIDwvbGk+XG4gICAgPC91bD5cblxuICA8L2Rpdj5cbjwvbmctdGVtcGxhdGU+XG4iXX0=